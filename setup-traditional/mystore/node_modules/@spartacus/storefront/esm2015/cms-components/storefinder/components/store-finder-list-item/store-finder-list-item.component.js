import { __decorate } from "tslib";
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { StoreDataService } from '@spartacus/core';
import { AbstractStoreItemComponent } from '../abstract-store-item/abstract-store-item.component';
let StoreFinderListItemComponent = class StoreFinderListItemComponent extends AbstractStoreItemComponent {
    constructor(storeDataService) {
        super(storeDataService);
        this.storeDataService = storeDataService;
        this.locationIndex = null;
        this.storeItemClick = new EventEmitter();
    }
    handleStoreItemClick() {
        if (this.locationIndex !== null) {
            this.storeItemClick.emit(this.locationIndex);
        }
    }
    onKey(event) {
        if (event.key === 'Enter') {
            this.handleStoreItemClick();
        }
    }
};
StoreFinderListItemComponent.ctorParameters = () => [
    { type: StoreDataService }
];
__decorate([
    Input()
], StoreFinderListItemComponent.prototype, "locationIndex", void 0);
__decorate([
    Input()
], StoreFinderListItemComponent.prototype, "listOrderLabel", void 0);
__decorate([
    Input()
], StoreFinderListItemComponent.prototype, "displayDistance", void 0);
__decorate([
    Input()
], StoreFinderListItemComponent.prototype, "useClickEvent", void 0);
__decorate([
    Output()
], StoreFinderListItemComponent.prototype, "storeItemClick", void 0);
StoreFinderListItemComponent = __decorate([
    Component({
        selector: 'cx-store-finder-list-item',
        template: "<ng-container>\r\n  <div>\r\n    <div class=\"cx-store-list-order\">\r\n      {{ listOrderLabel }}\r\n    </div>\r\n    <div class=\"cx-store-name\">\r\n      <button\r\n        *ngIf=\"useClickEvent\"\r\n        (click)=\"handleStoreItemClick()\"\r\n        (keyup)=\"onKey($event)\"\r\n      >\r\n        {{ location.displayName || location.name }}\r\n      </button>\r\n      <a *ngIf=\"!useClickEvent\" [routerLink]=\"[location.name]\">{{\r\n        location.displayName || location.name\r\n      }}</a>\r\n    </div>\r\n    <div class=\"cx-store-address\" *ngIf=\"location.address\">\r\n      <div class=\"cx-store-address-street\">\r\n        {{ location.address.line1 }} {{ location.address.line2 }}\r\n      </div>\r\n      {{\r\n        getFormattedStoreAddress([\r\n          location.address.town,\r\n          location.address.postalCode,\r\n          location.address.country.isocode\r\n        ])\r\n      }}\r\n      <div\r\n        class=\"cx-store-distance\"\r\n        *ngIf=\"location.formattedDistance && displayDistance\"\r\n      >\r\n        {{ location.formattedDistance }}\r\n      </div>\r\n    </div>\r\n    <a\r\n      href=\"{{ getDirections(location) }}\"\r\n      target=\"_blank\"\r\n      class=\"btn btn-sm btn-action btn-block cx-button\"\r\n      (click)=\"$event.stopPropagation()\"\r\n      >{{ 'storeFinder.getDirections' | cxTranslate }}</a\r\n    >\r\n  </div>\r\n</ng-container>\r\n"
    })
], StoreFinderListItemComponent);
export { StoreFinderListItemComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUtZmluZGVyLWxpc3QtaXRlbS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3BhcnRhY3VzL3N0b3JlZnJvbnQvIiwic291cmNlcyI6WyJjbXMtY29tcG9uZW50cy9zdG9yZWZpbmRlci9jb21wb25lbnRzL3N0b3JlLWZpbmRlci1saXN0LWl0ZW0vc3RvcmUtZmluZGVyLWxpc3QtaXRlbS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdkUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbkQsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sc0RBQXNELENBQUM7QUFNbEcsSUFBYSw0QkFBNEIsR0FBekMsTUFBYSw0QkFBNkIsU0FBUSwwQkFBMEI7SUFZMUUsWUFBc0IsZ0JBQWtDO1FBQ3RELEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBREoscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtRQVZ4RCxrQkFBYSxHQUFXLElBQUksQ0FBQztRQVE3QixtQkFBYyxHQUF5QixJQUFJLFlBQVksRUFBRSxDQUFDO0lBSTFELENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsSUFBSSxJQUFJLENBQUMsYUFBYSxLQUFLLElBQUksRUFBRTtZQUMvQixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7U0FDOUM7SUFDSCxDQUFDO0lBRUQsS0FBSyxDQUFDLEtBQW9CO1FBQ3hCLElBQUksS0FBSyxDQUFDLEdBQUcsS0FBSyxPQUFPLEVBQUU7WUFDekIsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7U0FDN0I7SUFDSCxDQUFDO0NBQ0YsQ0FBQTs7WUFmeUMsZ0JBQWdCOztBQVZ4RDtJQURDLEtBQUssRUFBRTttRUFDcUI7QUFFN0I7SUFEQyxLQUFLLEVBQUU7b0VBQ1k7QUFFcEI7SUFEQyxLQUFLLEVBQUU7cUVBQ2lCO0FBRXpCO0lBREMsS0FBSyxFQUFFO21FQUNlO0FBRXZCO0lBREMsTUFBTSxFQUFFO29FQUNpRDtBQVYvQyw0QkFBNEI7SUFKeEMsU0FBUyxDQUFDO1FBQ1QsUUFBUSxFQUFFLDJCQUEyQjtRQUNyQyw0NUNBQXNEO0tBQ3ZELENBQUM7R0FDVyw0QkFBNEIsQ0EyQnhDO1NBM0JZLDRCQUE0QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFN0b3JlRGF0YVNlcnZpY2UgfSBmcm9tICdAc3BhcnRhY3VzL2NvcmUnO1xyXG5pbXBvcnQgeyBBYnN0cmFjdFN0b3JlSXRlbUNvbXBvbmVudCB9IGZyb20gJy4uL2Fic3RyYWN0LXN0b3JlLWl0ZW0vYWJzdHJhY3Qtc3RvcmUtaXRlbS5jb21wb25lbnQnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdjeC1zdG9yZS1maW5kZXItbGlzdC1pdGVtJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vc3RvcmUtZmluZGVyLWxpc3QtaXRlbS5jb21wb25lbnQuaHRtbCcsXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBTdG9yZUZpbmRlckxpc3RJdGVtQ29tcG9uZW50IGV4dGVuZHMgQWJzdHJhY3RTdG9yZUl0ZW1Db21wb25lbnQge1xyXG4gIEBJbnB1dCgpXHJcbiAgbG9jYXRpb25JbmRleDogbnVtYmVyID0gbnVsbDtcclxuICBASW5wdXQoKVxyXG4gIGxpc3RPcmRlckxhYmVsOiBhbnk7XHJcbiAgQElucHV0KClcclxuICBkaXNwbGF5RGlzdGFuY2U6IGJvb2xlYW47XHJcbiAgQElucHV0KClcclxuICB1c2VDbGlja0V2ZW50OiBib29sZWFuO1xyXG4gIEBPdXRwdXQoKVxyXG4gIHN0b3JlSXRlbUNsaWNrOiBFdmVudEVtaXR0ZXI8bnVtYmVyPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHN0b3JlRGF0YVNlcnZpY2U6IFN0b3JlRGF0YVNlcnZpY2UpIHtcclxuICAgIHN1cGVyKHN0b3JlRGF0YVNlcnZpY2UpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU3RvcmVJdGVtQ2xpY2soKSB7XHJcbiAgICBpZiAodGhpcy5sb2NhdGlvbkluZGV4ICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuc3RvcmVJdGVtQ2xpY2suZW1pdCh0aGlzLmxvY2F0aW9uSW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25LZXkoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgdGhpcy5oYW5kbGVTdG9yZUl0ZW1DbGljaygpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=