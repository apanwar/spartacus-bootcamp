import { __decorate } from "tslib";
import { Component, EventEmitter, Output } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { CustomFormValidators } from '../../../../shared/utils/validators/custom-form-validators';
let UpdateEmailFormComponent = class UpdateEmailFormComponent {
    constructor(fb) {
        this.fb = fb;
        this.saveEmail = new EventEmitter();
        this.cancelEmail = new EventEmitter();
        this.updateEmailForm = this.fb.group({
            email: ['', [Validators.required, CustomFormValidators.emailValidator]],
            confirmEmail: ['', [Validators.required]],
            password: ['', [Validators.required]],
        }, {
            validators: CustomFormValidators.emailsMustMatch('email', 'confirmEmail'),
        });
    }
    onSubmit() {
        if (this.updateEmailForm.valid) {
            const newUid = this.updateEmailForm.get('confirmEmail').value;
            const password = this.updateEmailForm.get('password').value;
            this.saveEmail.emit({ newUid, password });
        }
        else {
            this.updateEmailForm.markAllAsTouched();
        }
    }
    onCancel() {
        this.cancelEmail.emit();
    }
};
UpdateEmailFormComponent.ctorParameters = () => [
    { type: FormBuilder }
];
__decorate([
    Output()
], UpdateEmailFormComponent.prototype, "saveEmail", void 0);
__decorate([
    Output()
], UpdateEmailFormComponent.prototype, "cancelEmail", void 0);
UpdateEmailFormComponent = __decorate([
    Component({
        selector: 'cx-update-email-form',
        template: "<form (ngSubmit)=\"onSubmit()\" [formGroup]=\"updateEmailForm\">\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-md-12\">\r\n      <label>\r\n        <span class=\"label-content\">{{\r\n          'updateEmailForm.newEmailAddress.label' | cxTranslate\r\n        }}</span>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          formControlName=\"email\"\r\n          placeholder=\"{{\r\n            'updateEmailForm.newEmailAddress.placeholder' | cxTranslate\r\n          }}\"\r\n          class=\"form-control\"\r\n        />\r\n        <cx-form-errors\r\n          [control]=\"updateEmailForm.get('email')\"\r\n        ></cx-form-errors>\r\n      </label>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-sm-12\">\r\n      <label>\r\n        <span class=\"label-content\">{{\r\n          'updateEmailForm.confirmNewEmailAddress.label' | cxTranslate\r\n        }}</span>\r\n        <input\r\n          type=\"email\"\r\n          name=\"confirmEmail\"\r\n          formControlName=\"confirmEmail\"\r\n          placeholder=\"{{\r\n            'updateEmailForm.confirmNewEmailAddress.placeholder' | cxTranslate\r\n          }}\"\r\n          class=\"form-control\"\r\n        />\r\n        <cx-form-errors\r\n          [control]=\"updateEmailForm.get('confirmEmail')\"\r\n        ></cx-form-errors>\r\n      </label>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-sm-12\">\r\n      <label>\r\n        <span class=\"label-content\">{{\r\n          'updateEmailForm.password.label' | cxTranslate\r\n        }}</span>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          formControlName=\"password\"\r\n          placeholder=\"{{\r\n            'updateEmailForm.password.placeholder' | cxTranslate\r\n          }}\"\r\n          class=\"form-control\"\r\n          autocomplete=\"new-password\"\r\n        />\r\n        <cx-form-errors\r\n          [control]=\"updateEmailForm.get('password')\"\r\n        ></cx-form-errors>\r\n      </label>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-lg-6\">\r\n      <button\r\n        class=\"btn btn-block btn-secondary\"\r\n        type=\"button\"\r\n        (click)=\"onCancel()\"\r\n      >\r\n        {{ 'common.cancel' | cxTranslate }}\r\n      </button>\r\n    </div>\r\n    <div class=\"col-lg-6\">\r\n      <button class=\"btn btn-block btn-primary\" type=\"submit\">\r\n        {{ 'common.save' | cxTranslate }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</form>\r\n"
    })
], UpdateEmailFormComponent);
export { UpdateEmailFormComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXBkYXRlLWVtYWlsLWZvcm0uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHNwYXJ0YWN1cy9zdG9yZWZyb250LyIsInNvdXJjZXMiOlsiY21zLWNvbXBvbmVudHMvbXlhY2NvdW50L3VwZGF0ZS1lbWFpbC91cGRhdGUtZW1haWwtZm9ybS91cGRhdGUtZW1haWwtZm9ybS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNoRSxPQUFPLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSw0REFBNEQsQ0FBQztBQU1sRyxJQUFhLHdCQUF3QixHQUFyQyxNQUFhLHdCQUF3QjtJQXFCbkMsWUFBb0IsRUFBZTtRQUFmLE9BQUUsR0FBRixFQUFFLENBQWE7UUFuQm5DLGNBQVMsR0FBRyxJQUFJLFlBQVksRUFHeEIsQ0FBQztRQUdMLGdCQUFXLEdBQUcsSUFBSSxZQUFZLEVBQVEsQ0FBQztRQUV2QyxvQkFBZSxHQUFjLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUN4QztZQUNFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsb0JBQW9CLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDdkUsWUFBWSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3pDLFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUN0QyxFQUNEO1lBQ0UsVUFBVSxFQUFFLG9CQUFvQixDQUFDLGVBQWUsQ0FBQyxPQUFPLEVBQUUsY0FBYyxDQUFDO1NBQzFFLENBQ0YsQ0FBQztJQUVvQyxDQUFDO0lBRXZDLFFBQVE7UUFDTixJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFO1lBQzlCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDLEtBQUssQ0FBQztZQUM5RCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFFNUQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztTQUMzQzthQUFNO1lBQ0wsSUFBSSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1NBQ3pDO0lBQ0gsQ0FBQztJQUVELFFBQVE7UUFDTixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzFCLENBQUM7Q0FDRixDQUFBOztZQWhCeUIsV0FBVzs7QUFuQm5DO0lBREMsTUFBTSxFQUFFOzJEQUlKO0FBR0w7SUFEQyxNQUFNLEVBQUU7NkRBQzhCO0FBUjVCLHdCQUF3QjtJQUpwQyxTQUFTLENBQUM7UUFDVCxRQUFRLEVBQUUsc0JBQXNCO1FBQ2hDLGdsRkFBaUQ7S0FDbEQsQ0FBQztHQUNXLHdCQUF3QixDQXFDcEM7U0FyQ1ksd0JBQXdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBGb3JtQnVpbGRlciwgRm9ybUdyb3VwLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBDdXN0b21Gb3JtVmFsaWRhdG9ycyB9IGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZC91dGlscy92YWxpZGF0b3JzL2N1c3RvbS1mb3JtLXZhbGlkYXRvcnMnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdjeC11cGRhdGUtZW1haWwtZm9ybScsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3VwZGF0ZS1lbWFpbC1mb3JtLmNvbXBvbmVudC5odG1sJyxcclxufSlcclxuZXhwb3J0IGNsYXNzIFVwZGF0ZUVtYWlsRm9ybUNvbXBvbmVudCB7XHJcbiAgQE91dHB1dCgpXHJcbiAgc2F2ZUVtYWlsID0gbmV3IEV2ZW50RW1pdHRlcjx7XHJcbiAgICBuZXdVaWQ6IHN0cmluZztcclxuICAgIHBhc3N3b3JkOiBzdHJpbmc7XHJcbiAgfT4oKTtcclxuXHJcbiAgQE91dHB1dCgpXHJcbiAgY2FuY2VsRW1haWwgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XHJcblxyXG4gIHVwZGF0ZUVtYWlsRm9ybTogRm9ybUdyb3VwID0gdGhpcy5mYi5ncm91cChcclxuICAgIHtcclxuICAgICAgZW1haWw6IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIEN1c3RvbUZvcm1WYWxpZGF0b3JzLmVtYWlsVmFsaWRhdG9yXV0sXHJcbiAgICAgIGNvbmZpcm1FbWFpbDogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxyXG4gICAgICBwYXNzd29yZDogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdmFsaWRhdG9yczogQ3VzdG9tRm9ybVZhbGlkYXRvcnMuZW1haWxzTXVzdE1hdGNoKCdlbWFpbCcsICdjb25maXJtRW1haWwnKSxcclxuICAgIH1cclxuICApO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZiOiBGb3JtQnVpbGRlcikge31cclxuXHJcbiAgb25TdWJtaXQoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy51cGRhdGVFbWFpbEZvcm0udmFsaWQpIHtcclxuICAgICAgY29uc3QgbmV3VWlkID0gdGhpcy51cGRhdGVFbWFpbEZvcm0uZ2V0KCdjb25maXJtRW1haWwnKS52YWx1ZTtcclxuICAgICAgY29uc3QgcGFzc3dvcmQgPSB0aGlzLnVwZGF0ZUVtYWlsRm9ybS5nZXQoJ3Bhc3N3b3JkJykudmFsdWU7XHJcblxyXG4gICAgICB0aGlzLnNhdmVFbWFpbC5lbWl0KHsgbmV3VWlkLCBwYXNzd29yZCB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudXBkYXRlRW1haWxGb3JtLm1hcmtBbGxBc1RvdWNoZWQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uQ2FuY2VsKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jYW5jZWxFbWFpbC5lbWl0KCk7XHJcbiAgfVxyXG59XHJcbiJdfQ==