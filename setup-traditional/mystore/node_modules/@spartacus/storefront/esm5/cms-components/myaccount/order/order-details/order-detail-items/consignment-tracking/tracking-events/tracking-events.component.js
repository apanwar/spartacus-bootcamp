import { __decorate } from "tslib";
import { Component } from '@angular/core';
import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';
import { ConsignmentTracking, UserOrderService } from '@spartacus/core';
var TrackingEventsComponent = /** @class */ (function () {
    function TrackingEventsComponent(activeModal, userOrderService) {
        this.activeModal = activeModal;
        this.userOrderService = userOrderService;
    }
    TrackingEventsComponent.prototype.ngOnDestroy = function () {
        this.userOrderService.clearConsignmentTracking();
    };
    TrackingEventsComponent.ctorParameters = function () { return [
        { type: NgbActiveModal },
        { type: UserOrderService }
    ]; };
    TrackingEventsComponent = __decorate([
        Component({
            selector: 'cx-tracking-events',
            template: "<div class=\"cx-consignment-tracking-dialog\">\r\n  <!-- Modal Header -->\r\n  <ng-container *ngIf=\"tracking$ | async as consignmentTracking; else loading\">\r\n    <div class=\"header modal-header\">\r\n      <div class=\"title modal-title\">\r\n        {{ 'orderDetails.consignmentTracking.dialog.header' | cxTranslate }}\r\n      </div>\r\n      <button\r\n        type=\"button\"\r\n        class=\"close\"\r\n        aria-label=\"Close\"\r\n        (click)=\"activeModal.dismiss('Cross click')\"\r\n      >\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n    </div>\r\n    <!-- Modal Body -->\r\n    <!-- shipment header -->\r\n    <ng-container\r\n      *ngIf=\"\r\n        consignmentTracking?.carrierDetails && consignmentTracking?.trackingID;\r\n        else noTracking\r\n      \"\r\n    >\r\n      <div class=\"shipment-heading\">\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-12 col-md-6\">\r\n            <div class=\"shipment-title\">\r\n              {{\r\n                'orderDetails.consignmentTracking.dialog.shipped' | cxTranslate\r\n              }}\r\n            </div>\r\n            <div class=\"shipment-content\">\r\n              {{ shipDate | cxDate: 'medium' }}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-sm-12 col-md-6\">\r\n            <div class=\"shipment-title\">\r\n              {{\r\n                'orderDetails.consignmentTracking.dialog.estimate' | cxTranslate\r\n              }}\r\n            </div>\r\n            <div class=\"shipment-content\">\r\n              {{ consignmentTracking?.targetArrivalDate | cxDate: 'medium' }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-12 col-md-6\">\r\n            <div class=\"shipment-title\">\r\n              {{\r\n                'orderDetails.consignmentTracking.dialog.carrier' | cxTranslate\r\n              }}\r\n            </div>\r\n            <div class=\"shipment-content\">\r\n              {{ consignmentTracking?.carrierDetails?.name }}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-sm-12 col-md-6\">\r\n            <div class=\"shipment-title\">\r\n              {{\r\n                'orderDetails.consignmentTracking.dialog.trackingId'\r\n                  | cxTranslate\r\n              }}\r\n            </div>\r\n            <div class=\"shipment-content\">\r\n              <ng-container *ngIf=\"consignmentTracking?.trackingUrl\">\r\n                <a target=\"_blank\" [href]=\"consignmentTracking.trackingUrl\">{{\r\n                  consignmentTracking?.trackingID\r\n                }}</a>\r\n              </ng-container>\r\n              <ng-container *ngIf=\"!consignmentTracking?.trackingUrl\">\r\n                <label>\r\n                  {{ consignmentTracking?.trackingID }}\r\n                </label>\r\n              </ng-container>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ng-container>\r\n\r\n    <!-- tracking events -->\r\n    <div class=\"events modal-body\">\r\n      <ng-container\r\n        *ngFor=\"let consignmentEvent of consignmentTracking.trackingEvents\"\r\n      >\r\n        <div class=\"event-body\">\r\n          <div class=\"event-content\">\r\n            {{ consignmentEvent.eventDate | cxDate: 'medium' }}\r\n          </div>\r\n          <div class=\"event-title\">\r\n            {{ consignmentEvent.referenceCode }}\r\n          </div>\r\n          <div class=\"event-content\">{{ consignmentEvent.detail }}</div>\r\n          <div class=\"event-city\">\r\n            location: {{ consignmentEvent.location }}\r\n          </div>\r\n        </div>\r\n      </ng-container>\r\n    </div>\r\n  </ng-container>\r\n\r\n  <ng-template #noTracking>\r\n    <div class=\"no-tracking-heading\">\r\n      <div class=\"shipment-content\">\r\n        {{ 'orderDetails.consignmentTracking.dialog.noTracking' | cxTranslate }}\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n\r\n  <ng-template #loading>\r\n    <div class=\"tracking-loading\">\r\n      <div class=\"header modal-header\">\r\n        <div class=\"title modal-title\">\r\n          {{\r\n            'orderDetails.consignmentTracking.dialog.loadingHeader'\r\n              | cxTranslate\r\n          }}\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          class=\"close btn-dismiss\"\r\n          aria-label=\"Close\"\r\n          (click)=\"activeModal.dismiss('Cross click')\"\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <!-- Modal Body -->\r\n      <div class=\"body modal-body\">\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-12\">\r\n            <cx-spinner></cx-spinner>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n</div>\r\n"
        })
    ], TrackingEventsComponent);
    return TrackingEventsComponent;
}());
export { TrackingEventsComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhY2tpbmctZXZlbnRzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BzcGFydGFjdXMvc3RvcmVmcm9udC8iLCJzb3VyY2VzIjpbImNtcy1jb21wb25lbnRzL215YWNjb3VudC9vcmRlci9vcmRlci1kZXRhaWxzL29yZGVyLWRldGFpbC1pdGVtcy9jb25zaWdubWVudC10cmFja2luZy90cmFja2luZy1ldmVudHMvdHJhY2tpbmctZXZlbnRzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBYSxNQUFNLGVBQWUsQ0FBQztBQUNyRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDNUQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLGdCQUFnQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFPeEU7SUFLRSxpQ0FDUyxXQUEyQixFQUMxQixnQkFBa0M7UUFEbkMsZ0JBQVcsR0FBWCxXQUFXLENBQWdCO1FBQzFCLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBa0I7SUFDekMsQ0FBQztJQUVKLDZDQUFXLEdBQVg7UUFDRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztJQUNuRCxDQUFDOztnQkFOcUIsY0FBYztnQkFDUixnQkFBZ0I7O0lBUGpDLHVCQUF1QjtRQUpuQyxTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsb0JBQW9CO1lBQzlCLDYwSkFBK0M7U0FDaEQsQ0FBQztPQUNXLHVCQUF1QixDQWFuQztJQUFELDhCQUFDO0NBQUEsQUFiRCxJQWFDO1NBYlksdUJBQXVCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkRlc3Ryb3kgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5nYkFjdGl2ZU1vZGFsIH0gZnJvbSAnQG5nLWJvb3RzdHJhcC9uZy1ib290c3RyYXAnO1xuaW1wb3J0IHsgQ29uc2lnbm1lbnRUcmFja2luZywgVXNlck9yZGVyU2VydmljZSB9IGZyb20gJ0BzcGFydGFjdXMvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2N4LXRyYWNraW5nLWV2ZW50cycsXG4gIHRlbXBsYXRlVXJsOiAnLi90cmFja2luZy1ldmVudHMuY29tcG9uZW50Lmh0bWwnLFxufSlcbmV4cG9ydCBjbGFzcyBUcmFja2luZ0V2ZW50c0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uRGVzdHJveSB7XG4gIHRyYWNraW5nJDogT2JzZXJ2YWJsZTxDb25zaWdubWVudFRyYWNraW5nPjtcbiAgc2hpcERhdGU6IERhdGU7XG4gIGNvbnNpZ25tZW50Q29kZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBhY3RpdmVNb2RhbDogTmdiQWN0aXZlTW9kYWwsXG4gICAgcHJpdmF0ZSB1c2VyT3JkZXJTZXJ2aWNlOiBVc2VyT3JkZXJTZXJ2aWNlXG4gICkge31cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLnVzZXJPcmRlclNlcnZpY2UuY2xlYXJDb25zaWdubWVudFRyYWNraW5nKCk7XG4gIH1cbn1cbiJdfQ==