import { __decorate } from "tslib";
import { Component, EventEmitter, Output } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { CustomFormValidators } from '../../../../shared/utils/validators/custom-form-validators';
var UpdateEmailFormComponent = /** @class */ (function () {
    function UpdateEmailFormComponent(fb) {
        this.fb = fb;
        this.saveEmail = new EventEmitter();
        this.cancelEmail = new EventEmitter();
        this.updateEmailForm = this.fb.group({
            email: ['', [Validators.required, CustomFormValidators.emailValidator]],
            confirmEmail: ['', [Validators.required]],
            password: ['', [Validators.required]],
        }, {
            validators: CustomFormValidators.emailsMustMatch('email', 'confirmEmail'),
        });
    }
    UpdateEmailFormComponent.prototype.onSubmit = function () {
        if (this.updateEmailForm.valid) {
            var newUid = this.updateEmailForm.get('confirmEmail').value;
            var password = this.updateEmailForm.get('password').value;
            this.saveEmail.emit({ newUid: newUid, password: password });
        }
        else {
            this.updateEmailForm.markAllAsTouched();
        }
    };
    UpdateEmailFormComponent.prototype.onCancel = function () {
        this.cancelEmail.emit();
    };
    UpdateEmailFormComponent.ctorParameters = function () { return [
        { type: FormBuilder }
    ]; };
    __decorate([
        Output()
    ], UpdateEmailFormComponent.prototype, "saveEmail", void 0);
    __decorate([
        Output()
    ], UpdateEmailFormComponent.prototype, "cancelEmail", void 0);
    UpdateEmailFormComponent = __decorate([
        Component({
            selector: 'cx-update-email-form',
            template: "<form (ngSubmit)=\"onSubmit()\" [formGroup]=\"updateEmailForm\">\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-md-12\">\r\n      <label>\r\n        <span class=\"label-content\">{{\r\n          'updateEmailForm.newEmailAddress.label' | cxTranslate\r\n        }}</span>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          formControlName=\"email\"\r\n          placeholder=\"{{\r\n            'updateEmailForm.newEmailAddress.placeholder' | cxTranslate\r\n          }}\"\r\n          class=\"form-control\"\r\n        />\r\n        <cx-form-errors\r\n          [control]=\"updateEmailForm.get('email')\"\r\n        ></cx-form-errors>\r\n      </label>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-sm-12\">\r\n      <label>\r\n        <span class=\"label-content\">{{\r\n          'updateEmailForm.confirmNewEmailAddress.label' | cxTranslate\r\n        }}</span>\r\n        <input\r\n          type=\"email\"\r\n          name=\"confirmEmail\"\r\n          formControlName=\"confirmEmail\"\r\n          placeholder=\"{{\r\n            'updateEmailForm.confirmNewEmailAddress.placeholder' | cxTranslate\r\n          }}\"\r\n          class=\"form-control\"\r\n        />\r\n        <cx-form-errors\r\n          [control]=\"updateEmailForm.get('confirmEmail')\"\r\n        ></cx-form-errors>\r\n      </label>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-sm-12\">\r\n      <label>\r\n        <span class=\"label-content\">{{\r\n          'updateEmailForm.password.label' | cxTranslate\r\n        }}</span>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          formControlName=\"password\"\r\n          placeholder=\"{{\r\n            'updateEmailForm.password.placeholder' | cxTranslate\r\n          }}\"\r\n          class=\"form-control\"\r\n          autocomplete=\"new-password\"\r\n        />\r\n        <cx-form-errors\r\n          [control]=\"updateEmailForm.get('password')\"\r\n        ></cx-form-errors>\r\n      </label>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-lg-6\">\r\n      <button\r\n        class=\"btn btn-block btn-secondary\"\r\n        type=\"button\"\r\n        (click)=\"onCancel()\"\r\n      >\r\n        {{ 'common.cancel' | cxTranslate }}\r\n      </button>\r\n    </div>\r\n    <div class=\"col-lg-6\">\r\n      <button class=\"btn btn-block btn-primary\" type=\"submit\">\r\n        {{ 'common.save' | cxTranslate }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</form>\r\n"
        })
    ], UpdateEmailFormComponent);
    return UpdateEmailFormComponent;
}());
export { UpdateEmailFormComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXBkYXRlLWVtYWlsLWZvcm0uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHNwYXJ0YWN1cy9zdG9yZWZyb250LyIsInNvdXJjZXMiOlsiY21zLWNvbXBvbmVudHMvbXlhY2NvdW50L3VwZGF0ZS1lbWFpbC91cGRhdGUtZW1haWwtZm9ybS91cGRhdGUtZW1haWwtZm9ybS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNoRSxPQUFPLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSw0REFBNEQsQ0FBQztBQU1sRztJQXFCRSxrQ0FBb0IsRUFBZTtRQUFmLE9BQUUsR0FBRixFQUFFLENBQWE7UUFuQm5DLGNBQVMsR0FBRyxJQUFJLFlBQVksRUFHeEIsQ0FBQztRQUdMLGdCQUFXLEdBQUcsSUFBSSxZQUFZLEVBQVEsQ0FBQztRQUV2QyxvQkFBZSxHQUFjLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUN4QztZQUNFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsb0JBQW9CLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDdkUsWUFBWSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3pDLFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUN0QyxFQUNEO1lBQ0UsVUFBVSxFQUFFLG9CQUFvQixDQUFDLGVBQWUsQ0FBQyxPQUFPLEVBQUUsY0FBYyxDQUFDO1NBQzFFLENBQ0YsQ0FBQztJQUVvQyxDQUFDO0lBRXZDLDJDQUFRLEdBQVI7UUFDRSxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFO1lBQzlCLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDLEtBQUssQ0FBQztZQUM5RCxJQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFFNUQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLFFBQUEsRUFBRSxRQUFRLFVBQUEsRUFBRSxDQUFDLENBQUM7U0FDM0M7YUFBTTtZQUNMLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztTQUN6QztJQUNILENBQUM7SUFFRCwyQ0FBUSxHQUFSO1FBQ0UsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUMxQixDQUFDOztnQkFmdUIsV0FBVzs7SUFuQm5DO1FBREMsTUFBTSxFQUFFOytEQUlKO0lBR0w7UUFEQyxNQUFNLEVBQUU7aUVBQzhCO0lBUjVCLHdCQUF3QjtRQUpwQyxTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsc0JBQXNCO1lBQ2hDLGdsRkFBaUQ7U0FDbEQsQ0FBQztPQUNXLHdCQUF3QixDQXFDcEM7SUFBRCwrQkFBQztDQUFBLEFBckNELElBcUNDO1NBckNZLHdCQUF3QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9ybUJ1aWxkZXIsIEZvcm1Hcm91cCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgQ3VzdG9tRm9ybVZhbGlkYXRvcnMgfSBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdXRpbHMvdmFsaWRhdG9ycy9jdXN0b20tZm9ybS12YWxpZGF0b3JzJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnY3gtdXBkYXRlLWVtYWlsLWZvcm0nLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi91cGRhdGUtZW1haWwtZm9ybS5jb21wb25lbnQuaHRtbCcsXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBVcGRhdGVFbWFpbEZvcm1Db21wb25lbnQge1xyXG4gIEBPdXRwdXQoKVxyXG4gIHNhdmVFbWFpbCA9IG5ldyBFdmVudEVtaXR0ZXI8e1xyXG4gICAgbmV3VWlkOiBzdHJpbmc7XHJcbiAgICBwYXNzd29yZDogc3RyaW5nO1xyXG4gIH0+KCk7XHJcblxyXG4gIEBPdXRwdXQoKVxyXG4gIGNhbmNlbEVtYWlsID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xyXG5cclxuICB1cGRhdGVFbWFpbEZvcm06IEZvcm1Hcm91cCA9IHRoaXMuZmIuZ3JvdXAoXHJcbiAgICB7XHJcbiAgICAgIGVtYWlsOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBDdXN0b21Gb3JtVmFsaWRhdG9ycy5lbWFpbFZhbGlkYXRvcl1dLFxyXG4gICAgICBjb25maXJtRW1haWw6IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWRdXSxcclxuICAgICAgcGFzc3dvcmQ6IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWRdXSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHZhbGlkYXRvcnM6IEN1c3RvbUZvcm1WYWxpZGF0b3JzLmVtYWlsc011c3RNYXRjaCgnZW1haWwnLCAnY29uZmlybUVtYWlsJyksXHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBmYjogRm9ybUJ1aWxkZXIpIHt9XHJcblxyXG4gIG9uU3VibWl0KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMudXBkYXRlRW1haWxGb3JtLnZhbGlkKSB7XHJcbiAgICAgIGNvbnN0IG5ld1VpZCA9IHRoaXMudXBkYXRlRW1haWxGb3JtLmdldCgnY29uZmlybUVtYWlsJykudmFsdWU7XHJcbiAgICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy51cGRhdGVFbWFpbEZvcm0uZ2V0KCdwYXNzd29yZCcpLnZhbHVlO1xyXG5cclxuICAgICAgdGhpcy5zYXZlRW1haWwuZW1pdCh7IG5ld1VpZCwgcGFzc3dvcmQgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnVwZGF0ZUVtYWlsRm9ybS5tYXJrQWxsQXNUb3VjaGVkKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkNhbmNlbCgpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FuY2VsRW1haWwuZW1pdCgpO1xyXG4gIH1cclxufVxyXG4iXX0=