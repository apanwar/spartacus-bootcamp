import { __decorate, __extends } from "tslib";
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { StoreDataService } from '@spartacus/core';
import { AbstractStoreItemComponent } from '../abstract-store-item/abstract-store-item.component';
var StoreFinderListItemComponent = /** @class */ (function (_super) {
    __extends(StoreFinderListItemComponent, _super);
    function StoreFinderListItemComponent(storeDataService) {
        var _this = _super.call(this, storeDataService) || this;
        _this.storeDataService = storeDataService;
        _this.locationIndex = null;
        _this.storeItemClick = new EventEmitter();
        return _this;
    }
    StoreFinderListItemComponent.prototype.handleStoreItemClick = function () {
        if (this.locationIndex !== null) {
            this.storeItemClick.emit(this.locationIndex);
        }
    };
    StoreFinderListItemComponent.prototype.onKey = function (event) {
        if (event.key === 'Enter') {
            this.handleStoreItemClick();
        }
    };
    StoreFinderListItemComponent.ctorParameters = function () { return [
        { type: StoreDataService }
    ]; };
    __decorate([
        Input()
    ], StoreFinderListItemComponent.prototype, "locationIndex", void 0);
    __decorate([
        Input()
    ], StoreFinderListItemComponent.prototype, "listOrderLabel", void 0);
    __decorate([
        Input()
    ], StoreFinderListItemComponent.prototype, "displayDistance", void 0);
    __decorate([
        Input()
    ], StoreFinderListItemComponent.prototype, "useClickEvent", void 0);
    __decorate([
        Output()
    ], StoreFinderListItemComponent.prototype, "storeItemClick", void 0);
    StoreFinderListItemComponent = __decorate([
        Component({
            selector: 'cx-store-finder-list-item',
            template: "<ng-container>\r\n  <div>\r\n    <div class=\"cx-store-list-order\">\r\n      {{ listOrderLabel }}\r\n    </div>\r\n    <div class=\"cx-store-name\">\r\n      <button\r\n        *ngIf=\"useClickEvent\"\r\n        (click)=\"handleStoreItemClick()\"\r\n        (keyup)=\"onKey($event)\"\r\n      >\r\n        {{ location.displayName || location.name }}\r\n      </button>\r\n      <a *ngIf=\"!useClickEvent\" [routerLink]=\"[location.name]\">{{\r\n        location.displayName || location.name\r\n      }}</a>\r\n    </div>\r\n    <div class=\"cx-store-address\" *ngIf=\"location.address\">\r\n      <div class=\"cx-store-address-street\">\r\n        {{ location.address.line1 }} {{ location.address.line2 }}\r\n      </div>\r\n      {{\r\n        getFormattedStoreAddress([\r\n          location.address.town,\r\n          location.address.postalCode,\r\n          location.address.country.isocode\r\n        ])\r\n      }}\r\n      <div\r\n        class=\"cx-store-distance\"\r\n        *ngIf=\"location.formattedDistance && displayDistance\"\r\n      >\r\n        {{ location.formattedDistance }}\r\n      </div>\r\n    </div>\r\n    <a\r\n      href=\"{{ getDirections(location) }}\"\r\n      target=\"_blank\"\r\n      class=\"btn btn-sm btn-action btn-block cx-button\"\r\n      (click)=\"$event.stopPropagation()\"\r\n      >{{ 'storeFinder.getDirections' | cxTranslate }}</a\r\n    >\r\n  </div>\r\n</ng-container>\r\n"
        })
    ], StoreFinderListItemComponent);
    return StoreFinderListItemComponent;
}(AbstractStoreItemComponent));
export { StoreFinderListItemComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUtZmluZGVyLWxpc3QtaXRlbS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3BhcnRhY3VzL3N0b3JlZnJvbnQvIiwic291cmNlcyI6WyJjbXMtY29tcG9uZW50cy9zdG9yZWZpbmRlci9jb21wb25lbnRzL3N0b3JlLWZpbmRlci1saXN0LWl0ZW0vc3RvcmUtZmluZGVyLWxpc3QtaXRlbS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdkUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbkQsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sc0RBQXNELENBQUM7QUFNbEc7SUFBa0QsZ0RBQTBCO0lBWTFFLHNDQUFzQixnQkFBa0M7UUFBeEQsWUFDRSxrQkFBTSxnQkFBZ0IsQ0FBQyxTQUN4QjtRQUZxQixzQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO1FBVnhELG1CQUFhLEdBQVcsSUFBSSxDQUFDO1FBUTdCLG9CQUFjLEdBQXlCLElBQUksWUFBWSxFQUFFLENBQUM7O0lBSTFELENBQUM7SUFFRCwyREFBb0IsR0FBcEI7UUFDRSxJQUFJLElBQUksQ0FBQyxhQUFhLEtBQUssSUFBSSxFQUFFO1lBQy9CLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztTQUM5QztJQUNILENBQUM7SUFFRCw0Q0FBSyxHQUFMLFVBQU0sS0FBb0I7UUFDeEIsSUFBSSxLQUFLLENBQUMsR0FBRyxLQUFLLE9BQU8sRUFBRTtZQUN6QixJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztTQUM3QjtJQUNILENBQUM7O2dCQWR1QyxnQkFBZ0I7O0lBVnhEO1FBREMsS0FBSyxFQUFFO3VFQUNxQjtJQUU3QjtRQURDLEtBQUssRUFBRTt3RUFDWTtJQUVwQjtRQURDLEtBQUssRUFBRTt5RUFDaUI7SUFFekI7UUFEQyxLQUFLLEVBQUU7dUVBQ2U7SUFFdkI7UUFEQyxNQUFNLEVBQUU7d0VBQ2lEO0lBVi9DLDRCQUE0QjtRQUp4QyxTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsMkJBQTJCO1lBQ3JDLDQ1Q0FBc0Q7U0FDdkQsQ0FBQztPQUNXLDRCQUE0QixDQTJCeEM7SUFBRCxtQ0FBQztDQUFBLEFBM0JELENBQWtELDBCQUEwQixHQTJCM0U7U0EzQlksNEJBQTRCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgU3RvcmVEYXRhU2VydmljZSB9IGZyb20gJ0BzcGFydGFjdXMvY29yZSc7XHJcbmltcG9ydCB7IEFic3RyYWN0U3RvcmVJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi4vYWJzdHJhY3Qtc3RvcmUtaXRlbS9hYnN0cmFjdC1zdG9yZS1pdGVtLmNvbXBvbmVudCc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2N4LXN0b3JlLWZpbmRlci1saXN0LWl0ZW0nLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9zdG9yZS1maW5kZXItbGlzdC1pdGVtLmNvbXBvbmVudC5odG1sJyxcclxufSlcclxuZXhwb3J0IGNsYXNzIFN0b3JlRmluZGVyTGlzdEl0ZW1Db21wb25lbnQgZXh0ZW5kcyBBYnN0cmFjdFN0b3JlSXRlbUNvbXBvbmVudCB7XHJcbiAgQElucHV0KClcclxuICBsb2NhdGlvbkluZGV4OiBudW1iZXIgPSBudWxsO1xyXG4gIEBJbnB1dCgpXHJcbiAgbGlzdE9yZGVyTGFiZWw6IGFueTtcclxuICBASW5wdXQoKVxyXG4gIGRpc3BsYXlEaXN0YW5jZTogYm9vbGVhbjtcclxuICBASW5wdXQoKVxyXG4gIHVzZUNsaWNrRXZlbnQ6IGJvb2xlYW47XHJcbiAgQE91dHB1dCgpXHJcbiAgc3RvcmVJdGVtQ2xpY2s6IEV2ZW50RW1pdHRlcjxudW1iZXI+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgc3RvcmVEYXRhU2VydmljZTogU3RvcmVEYXRhU2VydmljZSkge1xyXG4gICAgc3VwZXIoc3RvcmVEYXRhU2VydmljZSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTdG9yZUl0ZW1DbGljaygpIHtcclxuICAgIGlmICh0aGlzLmxvY2F0aW9uSW5kZXggIT09IG51bGwpIHtcclxuICAgICAgdGhpcy5zdG9yZUl0ZW1DbGljay5lbWl0KHRoaXMubG9jYXRpb25JbmRleCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbktleShldmVudDogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICB0aGlzLmhhbmRsZVN0b3JlSXRlbUNsaWNrKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ==