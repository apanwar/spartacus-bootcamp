import { __decorate } from "tslib";
import { ChangeDetectionStrategy, Component, } from '@angular/core';
import { CheckoutService, Order } from '@spartacus/core';
import { tap } from 'rxjs/operators';
var OrderConfirmationThankYouMessageComponent = /** @class */ (function () {
    function OrderConfirmationThankYouMessageComponent(checkoutService) {
        this.checkoutService = checkoutService;
        this.isGuestCustomer = false;
    }
    OrderConfirmationThankYouMessageComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.order$ = this.checkoutService.getOrderDetails().pipe(tap(function (order) {
            _this.isGuestCustomer = order.guestCustomer;
            _this.orderGuid = order.guid;
        }));
    };
    OrderConfirmationThankYouMessageComponent.prototype.ngOnDestroy = function () {
        this.checkoutService.clearCheckoutData();
    };
    OrderConfirmationThankYouMessageComponent.ctorParameters = function () { return [
        { type: CheckoutService }
    ]; };
    OrderConfirmationThankYouMessageComponent = __decorate([
        Component({
            selector: 'cx-order-confirmation-thank-you-message',
            template: "<ng-container *ngIf=\"order$ | async as order\">\r\n  <div class=\"cx-page-header\">\r\n    <h1 class=\"cx-page-title\">\r\n      {{ 'checkoutOrderConfirmation.confirmationOfOrder' | cxTranslate }}\r\n      {{ order.code }}\r\n    </h1>\r\n  </div>\r\n\r\n  <div class=\"cx-order-confirmation-message\">\r\n    <h2>{{ 'checkoutOrderConfirmation.thankYou' | cxTranslate }}</h2>\r\n    <p>\r\n      {{ 'checkoutOrderConfirmation.invoiceHasBeenSentByEmail' | cxTranslate }}\r\n    </p>\r\n    <!-- <a href=\"#\" class=\"btn-link\">Print Page</a> -->\r\n  </div>\r\n\r\n  <div *ngIf=\"isGuestCustomer\">\r\n    <cx-guest-register-form\r\n      [guid]=\"orderGuid\"\r\n      [email]=\"order.paymentInfo.billingAddress.email\"\r\n    ></cx-guest-register-form>\r\n  </div>\r\n\r\n  <cx-add-to-home-screen-banner></cx-add-to-home-screen-banner>\r\n</ng-container>\r\n",
            changeDetection: ChangeDetectionStrategy.OnPush
        })
    ], OrderConfirmationThankYouMessageComponent);
    return OrderConfirmationThankYouMessageComponent;
}());
export { OrderConfirmationThankYouMessageComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3JkZXItY29uZmlybWF0aW9uLXRoYW5rLXlvdS1tZXNzYWdlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BzcGFydGFjdXMvc3RvcmVmcm9udC8iLCJzb3VyY2VzIjpbImNtcy1jb21wb25lbnRzL29yZGVyLWNvbmZpcm1hdGlvbi9jb21wb25lbnRzL29yZGVyLWNvbmZpcm1hdGlvbi10aGFuay15b3UtbWVzc2FnZS9vcmRlci1jb25maXJtYXRpb24tdGhhbmsteW91LW1lc3NhZ2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsR0FHVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsZUFBZSxFQUFFLEtBQUssRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRXpELE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQU9yQztJQU1FLG1EQUFzQixlQUFnQztRQUFoQyxvQkFBZSxHQUFmLGVBQWUsQ0FBaUI7UUFIdEQsb0JBQWUsR0FBRyxLQUFLLENBQUM7SUFHaUMsQ0FBQztJQUUxRCw0REFBUSxHQUFSO1FBQUEsaUJBT0M7UUFOQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsZUFBZSxFQUFFLENBQUMsSUFBSSxDQUN2RCxHQUFHLENBQUMsVUFBQyxLQUFLO1lBQ1IsS0FBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDO1lBQzNDLEtBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztRQUM5QixDQUFDLENBQUMsQ0FDSCxDQUFDO0lBQ0osQ0FBQztJQUVELCtEQUFXLEdBQVg7UUFDRSxJQUFJLENBQUMsZUFBZSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDM0MsQ0FBQzs7Z0JBYnNDLGVBQWU7O0lBTjNDLHlDQUF5QztRQUxyRCxTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUseUNBQXlDO1lBQ25ELHcyQkFBb0U7WUFDcEUsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07U0FDaEQsQ0FBQztPQUNXLHlDQUF5QyxDQW9CckQ7SUFBRCxnREFBQztDQUFBLEFBcEJELElBb0JDO1NBcEJZLHlDQUF5QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcbiAgQ29tcG9uZW50LFxyXG4gIE9uRGVzdHJveSxcclxuICBPbkluaXQsXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENoZWNrb3V0U2VydmljZSwgT3JkZXIgfSBmcm9tICdAc3BhcnRhY3VzL2NvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnY3gtb3JkZXItY29uZmlybWF0aW9uLXRoYW5rLXlvdS1tZXNzYWdlJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vb3JkZXItY29uZmlybWF0aW9uLXRoYW5rLXlvdS1tZXNzYWdlLmNvbXBvbmVudC5odG1sJyxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxufSlcclxuZXhwb3J0IGNsYXNzIE9yZGVyQ29uZmlybWF0aW9uVGhhbmtZb3VNZXNzYWdlQ29tcG9uZW50XHJcbiAgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XHJcbiAgb3JkZXIkOiBPYnNlcnZhYmxlPE9yZGVyPjtcclxuICBpc0d1ZXN0Q3VzdG9tZXIgPSBmYWxzZTtcclxuICBvcmRlckd1aWQ6IHN0cmluZztcclxuXHJcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGNoZWNrb3V0U2VydmljZTogQ2hlY2tvdXRTZXJ2aWNlKSB7fVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMub3JkZXIkID0gdGhpcy5jaGVja291dFNlcnZpY2UuZ2V0T3JkZXJEZXRhaWxzKCkucGlwZShcclxuICAgICAgdGFwKChvcmRlcikgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNHdWVzdEN1c3RvbWVyID0gb3JkZXIuZ3Vlc3RDdXN0b21lcjtcclxuICAgICAgICB0aGlzLm9yZGVyR3VpZCA9IG9yZGVyLmd1aWQ7XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLmNoZWNrb3V0U2VydmljZS5jbGVhckNoZWNrb3V0RGF0YSgpO1xyXG4gIH1cclxufVxyXG4iXX0=