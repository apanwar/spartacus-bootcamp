import { __decorate, __extends, __param } from "tslib";
import { DOCUMENT } from '@angular/common';
import { ComponentFactoryResolver, ComponentRef, Inject, Injectable, isDevMode, RendererFactory2, ViewContainerRef, } from '@angular/core';
import { of } from 'rxjs';
import { LaunchRenderStrategy } from './launch-render.strategy';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
var InlineRenderStrategy = /** @class */ (function (_super) {
    __extends(InlineRenderStrategy, _super);
    function InlineRenderStrategy(document, rendererFactory, componentFactoryResolver) {
        var _this = _super.call(this, document, rendererFactory) || this;
        _this.document = document;
        _this.rendererFactory = rendererFactory;
        _this.componentFactoryResolver = componentFactoryResolver;
        return _this;
    }
    /**
     * Renders the component from the configuration in the view container ref
     *
     * @param config
     * @param caller
     * @param vcr
     */
    InlineRenderStrategy.prototype.render = function (config, caller, vcr) {
        // Only render if a ViewContainerRef is provided
        if (vcr && this.shouldRender(caller, config)) {
            var template = this.componentFactoryResolver.resolveComponentFactory(config.component);
            var component = vcr.createComponent(template);
            if (config === null || config === void 0 ? void 0 : config.dialogType) {
                this.applyClasses(component, config === null || config === void 0 ? void 0 : config.dialogType);
            }
            this.renderedCallers.push({ caller: caller, element: vcr.element, component: component });
            return of(component);
        }
        else if (isDevMode()) {
            if (!vcr) {
                console.warn("No view container ref provided for " + caller);
            }
            else {
                console.warn("Element for " + caller + " already rendered. To allow multi rendering add property multi: true.");
            }
        }
    };
    InlineRenderStrategy.prototype.hasMatch = function (config) {
        return Boolean(config.inline);
    };
    InlineRenderStrategy.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },
        { type: RendererFactory2 },
        { type: ComponentFactoryResolver }
    ]; };
    InlineRenderStrategy.ɵprov = i0.ɵɵdefineInjectable({ factory: function InlineRenderStrategy_Factory() { return new InlineRenderStrategy(i0.ɵɵinject(i1.DOCUMENT), i0.ɵɵinject(i0.RendererFactory2), i0.ɵɵinject(i0.ComponentFactoryResolver)); }, token: InlineRenderStrategy, providedIn: "root" });
    InlineRenderStrategy = __decorate([
        Injectable({ providedIn: 'root' }),
        __param(0, Inject(DOCUMENT))
    ], InlineRenderStrategy);
    return InlineRenderStrategy;
}(LaunchRenderStrategy));
export { InlineRenderStrategy };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5saW5lLXJlbmRlci5zdHJhdGVneS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BzcGFydGFjdXMvc3RvcmVmcm9udC8iLCJzb3VyY2VzIjpbImxheW91dC9sYXVuY2gtZGlhbG9nL3NlcnZpY2VzL2lubGluZS1yZW5kZXIuc3RyYXRlZ3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzQyxPQUFPLEVBQ0wsd0JBQXdCLEVBQ3hCLFlBQVksRUFDWixNQUFNLEVBQ04sVUFBVSxFQUNWLFNBQVMsRUFDVCxnQkFBZ0IsRUFDaEIsZ0JBQWdCLEdBQ2pCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBYyxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFdEMsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7OztBQUdoRTtJQUEwQyx3Q0FBb0I7SUFDNUQsOEJBQzhCLFFBQWEsRUFDL0IsZUFBaUMsRUFDakMsd0JBQWtEO1FBSDlELFlBS0Usa0JBQU0sUUFBUSxFQUFFLGVBQWUsQ0FBQyxTQUNqQztRQUw2QixjQUFRLEdBQVIsUUFBUSxDQUFLO1FBQy9CLHFCQUFlLEdBQWYsZUFBZSxDQUFrQjtRQUNqQyw4QkFBd0IsR0FBeEIsd0JBQXdCLENBQTBCOztJQUc5RCxDQUFDO0lBRUQ7Ozs7OztPQU1HO0lBQ0gscUNBQU0sR0FBTixVQUNFLE1BQTBCLEVBQzFCLE1BQThCLEVBQzlCLEdBQXFCO1FBRXJCLGdEQUFnRDtRQUNoRCxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRTtZQUM1QyxJQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsd0JBQXdCLENBQUMsdUJBQXVCLENBQ3BFLE1BQU0sQ0FBQyxTQUFTLENBQ2pCLENBQUM7WUFFRixJQUFNLFNBQVMsR0FBRyxHQUFHLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBRWhELElBQUksTUFBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLFVBQVUsRUFBRTtnQkFDdEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsTUFBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLFVBQVUsQ0FBQyxDQUFDO2FBQ2xEO1lBRUQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLFFBQUEsRUFBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxTQUFTLFdBQUEsRUFBRSxDQUFDLENBQUM7WUFFdkUsT0FBTyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDdEI7YUFBTSxJQUFJLFNBQVMsRUFBRSxFQUFFO1lBQ3RCLElBQUksQ0FBQyxHQUFHLEVBQUU7Z0JBQ1IsT0FBTyxDQUFDLElBQUksQ0FBQyx3Q0FBc0MsTUFBUSxDQUFDLENBQUM7YUFDOUQ7aUJBQU07Z0JBQ0wsT0FBTyxDQUFDLElBQUksQ0FDVixpQkFBZSxNQUFNLDBFQUF1RSxDQUM3RixDQUFDO2FBQ0g7U0FDRjtJQUNILENBQUM7SUFFRCx1Q0FBUSxHQUFSLFVBQVMsTUFBMEI7UUFDakMsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDLENBQUM7O2dEQS9DRSxNQUFNLFNBQUMsUUFBUTtnQkFDVyxnQkFBZ0I7Z0JBQ1Asd0JBQXdCOzs7SUFKbkQsb0JBQW9CO1FBRGhDLFVBQVUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsQ0FBQztRQUc5QixXQUFBLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQTtPQUZSLG9CQUFvQixDQWtEaEM7K0JBakVEO0NBaUVDLEFBbERELENBQTBDLG9CQUFvQixHQWtEN0Q7U0FsRFksb0JBQW9CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQge1xyXG4gIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcclxuICBDb21wb25lbnRSZWYsXHJcbiAgSW5qZWN0LFxyXG4gIEluamVjdGFibGUsXHJcbiAgaXNEZXZNb2RlLFxyXG4gIFJlbmRlcmVyRmFjdG9yeTIsXHJcbiAgVmlld0NvbnRhaW5lclJlZixcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgTGF1bmNoSW5saW5lRGlhbG9nLCBMQVVOQ0hfQ0FMTEVSIH0gZnJvbSAnLi4vY29uZmlnL2luZGV4JztcclxuaW1wb3J0IHsgTGF1bmNoUmVuZGVyU3RyYXRlZ3kgfSBmcm9tICcuL2xhdW5jaC1yZW5kZXIuc3RyYXRlZ3knO1xyXG5cclxuQEluamVjdGFibGUoeyBwcm92aWRlZEluOiAncm9vdCcgfSlcclxuZXhwb3J0IGNsYXNzIElubGluZVJlbmRlclN0cmF0ZWd5IGV4dGVuZHMgTGF1bmNoUmVuZGVyU3RyYXRlZ3kge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgQEluamVjdChET0NVTUVOVCkgcHJvdGVjdGVkIGRvY3VtZW50OiBhbnksXHJcbiAgICBwcm90ZWN0ZWQgcmVuZGVyZXJGYWN0b3J5OiBSZW5kZXJlckZhY3RvcnkyLFxyXG4gICAgcHJvdGVjdGVkIGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyXHJcbiAgKSB7XHJcbiAgICBzdXBlcihkb2N1bWVudCwgcmVuZGVyZXJGYWN0b3J5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbmRlcnMgdGhlIGNvbXBvbmVudCBmcm9tIHRoZSBjb25maWd1cmF0aW9uIGluIHRoZSB2aWV3IGNvbnRhaW5lciByZWZcclxuICAgKlxyXG4gICAqIEBwYXJhbSBjb25maWdcclxuICAgKiBAcGFyYW0gY2FsbGVyXHJcbiAgICogQHBhcmFtIHZjclxyXG4gICAqL1xyXG4gIHJlbmRlcihcclxuICAgIGNvbmZpZzogTGF1bmNoSW5saW5lRGlhbG9nLFxyXG4gICAgY2FsbGVyOiBMQVVOQ0hfQ0FMTEVSIHwgc3RyaW5nLFxyXG4gICAgdmNyOiBWaWV3Q29udGFpbmVyUmVmXHJcbiAgKTogT2JzZXJ2YWJsZTxDb21wb25lbnRSZWY8YW55Pj4ge1xyXG4gICAgLy8gT25seSByZW5kZXIgaWYgYSBWaWV3Q29udGFpbmVyUmVmIGlzIHByb3ZpZGVkXHJcbiAgICBpZiAodmNyICYmIHRoaXMuc2hvdWxkUmVuZGVyKGNhbGxlciwgY29uZmlnKSkge1xyXG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KFxyXG4gICAgICAgIGNvbmZpZy5jb21wb25lbnRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHZjci5jcmVhdGVDb21wb25lbnQodGVtcGxhdGUpO1xyXG5cclxuICAgICAgaWYgKGNvbmZpZz8uZGlhbG9nVHlwZSkge1xyXG4gICAgICAgIHRoaXMuYXBwbHlDbGFzc2VzKGNvbXBvbmVudCwgY29uZmlnPy5kaWFsb2dUeXBlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5yZW5kZXJlZENhbGxlcnMucHVzaCh7IGNhbGxlciwgZWxlbWVudDogdmNyLmVsZW1lbnQsIGNvbXBvbmVudCB9KTtcclxuXHJcbiAgICAgIHJldHVybiBvZihjb21wb25lbnQpO1xyXG4gICAgfSBlbHNlIGlmIChpc0Rldk1vZGUoKSkge1xyXG4gICAgICBpZiAoIXZjcikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgTm8gdmlldyBjb250YWluZXIgcmVmIHByb3ZpZGVkIGZvciAke2NhbGxlcn1gKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICBgRWxlbWVudCBmb3IgJHtjYWxsZXJ9IGFscmVhZHkgcmVuZGVyZWQuIFRvIGFsbG93IG11bHRpIHJlbmRlcmluZyBhZGQgcHJvcGVydHkgbXVsdGk6IHRydWUuYFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhc01hdGNoKGNvbmZpZzogTGF1bmNoSW5saW5lRGlhbG9nKSB7XHJcbiAgICByZXR1cm4gQm9vbGVhbihjb25maWcuaW5saW5lKTtcclxuICB9XHJcbn1cclxuIl19