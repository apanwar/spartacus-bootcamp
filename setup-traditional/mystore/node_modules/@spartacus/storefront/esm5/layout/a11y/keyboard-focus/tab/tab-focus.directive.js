import { __decorate, __extends } from "tslib";
import { Directive, ElementRef, HostListener } from '@angular/core';
import { AutoFocusDirective } from '../autofocus/auto-focus.directive';
import { TabFocusService } from './tab-focus.service';
/**
 * Directive to move the focus of ("locked") child elements. This is useful
 * for a nested list of tabs, carousel slides or any group of elements that
 * requires horizontal navigation.
 */
var TabFocusDirective = /** @class */ (function (_super) {
    __extends(TabFocusDirective, _super);
    function TabFocusDirective(elementRef, service) {
        var _this = _super.call(this, elementRef, service) || this;
        _this.elementRef = elementRef;
        _this.service = service;
        /** `tab` defaults to true if the directive `cxTabFocus` is used. */
        _this.defaultConfig = { tab: true };
        // @Input('cxTabFocus')
        _this.config = {};
        return _this;
    }
    TabFocusDirective.prototype.handleNextTab = function (event) {
        var _a;
        if ((_a = this.config) === null || _a === void 0 ? void 0 : _a.tab) {
            this.service.moveTab(this.host, this.config, 1 /* NEXT */, event);
        }
    };
    TabFocusDirective.prototype.handlePreviousTab = function (event) {
        var _a;
        if ((_a = this.config) === null || _a === void 0 ? void 0 : _a.tab) {
            this.service.moveTab(this.host, this.config, -1 /* PREV */, event);
        }
    };
    TabFocusDirective.ctorParameters = function () { return [
        { type: ElementRef },
        { type: TabFocusService }
    ]; };
    __decorate([
        HostListener('keydown.arrowRight', ['$event'])
    ], TabFocusDirective.prototype, "handleNextTab", null);
    __decorate([
        HostListener('keydown.arrowLeft', ['$event'])
    ], TabFocusDirective.prototype, "handlePreviousTab", null);
    TabFocusDirective = __decorate([
        Directive() // selector: '[cxTabFocus]'
    ], TabFocusDirective);
    return TabFocusDirective;
}(AutoFocusDirective));
export { TabFocusDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFiLWZvY3VzLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BzcGFydGFjdXMvc3RvcmVmcm9udC8iLCJzb3VyY2VzIjpbImxheW91dC9hMTF5L2tleWJvYXJkLWZvY3VzL3RhYi90YWItZm9jdXMuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDcEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFFdkUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRXREOzs7O0dBSUc7QUFFSDtJQUF1QyxxQ0FBa0I7SUFxQnZELDJCQUNZLFVBQXNCLEVBQ3RCLE9BQXdCO1FBRnBDLFlBSUUsa0JBQU0sVUFBVSxFQUFFLE9BQU8sQ0FBQyxTQUMzQjtRQUpXLGdCQUFVLEdBQVYsVUFBVSxDQUFZO1FBQ3RCLGFBQU8sR0FBUCxPQUFPLENBQWlCO1FBdEJwQyxvRUFBb0U7UUFDMUQsbUJBQWEsR0FBbUIsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUM7UUFFeEQsdUJBQXVCO1FBQ2IsWUFBTSxHQUFtQixFQUFFLENBQUM7O0lBcUJ0QyxDQUFDO0lBbEJELHlDQUFhLEdBQWIsVUFBYyxLQUFvQjs7UUFDaEMsVUFBSSxJQUFJLENBQUMsTUFBTSwwQ0FBRSxHQUFHLEVBQUU7WUFDcEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxnQkFBbUIsS0FBSyxDQUFDLENBQUM7U0FDdEU7SUFDSCxDQUFDO0lBR0QsNkNBQWlCLEdBQWpCLFVBQWtCLEtBQW9COztRQUNwQyxVQUFJLElBQUksQ0FBQyxNQUFNLDBDQUFFLEdBQUcsRUFBRTtZQUNwQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLGlCQUFtQixLQUFLLENBQUMsQ0FBQztTQUN0RTtJQUNILENBQUM7O2dCQUd1QixVQUFVO2dCQUNiLGVBQWU7O0lBZnBDO1FBREMsWUFBWSxDQUFDLG9CQUFvQixFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7MERBSzlDO0lBR0Q7UUFEQyxZQUFZLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQzs4REFLN0M7SUFuQlUsaUJBQWlCO1FBRDdCLFNBQVMsRUFBRSxDQUFDLDJCQUEyQjtPQUMzQixpQkFBaUIsQ0EyQjdCO0lBQUQsd0JBQUM7Q0FBQSxBQTNCRCxDQUF1QyxrQkFBa0IsR0EyQnhEO1NBM0JZLGlCQUFpQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgSG9zdExpc3RlbmVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEF1dG9Gb2N1c0RpcmVjdGl2ZSB9IGZyb20gJy4uL2F1dG9mb2N1cy9hdXRvLWZvY3VzLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IE1PVkVfRk9DVVMsIFRhYkZvY3VzQ29uZmlnIH0gZnJvbSAnLi4va2V5Ym9hcmQtZm9jdXMubW9kZWwnO1xyXG5pbXBvcnQgeyBUYWJGb2N1c1NlcnZpY2UgfSBmcm9tICcuL3RhYi1mb2N1cy5zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBEaXJlY3RpdmUgdG8gbW92ZSB0aGUgZm9jdXMgb2YgKFwibG9ja2VkXCIpIGNoaWxkIGVsZW1lbnRzLiBUaGlzIGlzIHVzZWZ1bFxyXG4gKiBmb3IgYSBuZXN0ZWQgbGlzdCBvZiB0YWJzLCBjYXJvdXNlbCBzbGlkZXMgb3IgYW55IGdyb3VwIG9mIGVsZW1lbnRzIHRoYXRcclxuICogcmVxdWlyZXMgaG9yaXpvbnRhbCBuYXZpZ2F0aW9uLlxyXG4gKi9cclxuQERpcmVjdGl2ZSgpIC8vIHNlbGVjdG9yOiAnW2N4VGFiRm9jdXNdJ1xyXG5leHBvcnQgY2xhc3MgVGFiRm9jdXNEaXJlY3RpdmUgZXh0ZW5kcyBBdXRvRm9jdXNEaXJlY3RpdmUge1xyXG4gIC8qKiBgdGFiYCBkZWZhdWx0cyB0byB0cnVlIGlmIHRoZSBkaXJlY3RpdmUgYGN4VGFiRm9jdXNgIGlzIHVzZWQuICovXHJcbiAgcHJvdGVjdGVkIGRlZmF1bHRDb25maWc6IFRhYkZvY3VzQ29uZmlnID0geyB0YWI6IHRydWUgfTtcclxuXHJcbiAgLy8gQElucHV0KCdjeFRhYkZvY3VzJylcclxuICBwcm90ZWN0ZWQgY29uZmlnOiBUYWJGb2N1c0NvbmZpZyA9IHt9O1xyXG5cclxuICBASG9zdExpc3RlbmVyKCdrZXlkb3duLmFycm93UmlnaHQnLCBbJyRldmVudCddKVxyXG4gIGhhbmRsZU5leHRUYWIoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgIGlmICh0aGlzLmNvbmZpZz8udGFiKSB7XHJcbiAgICAgIHRoaXMuc2VydmljZS5tb3ZlVGFiKHRoaXMuaG9zdCwgdGhpcy5jb25maWcsIE1PVkVfRk9DVVMuTkVYVCwgZXZlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQEhvc3RMaXN0ZW5lcigna2V5ZG93bi5hcnJvd0xlZnQnLCBbJyRldmVudCddKVxyXG4gIGhhbmRsZVByZXZpb3VzVGFiKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICBpZiAodGhpcy5jb25maWc/LnRhYikge1xyXG4gICAgICB0aGlzLnNlcnZpY2UubW92ZVRhYih0aGlzLmhvc3QsIHRoaXMuY29uZmlnLCBNT1ZFX0ZPQ1VTLlBSRVYsIGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVjdGVkIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsXHJcbiAgICBwcm90ZWN0ZWQgc2VydmljZTogVGFiRm9jdXNTZXJ2aWNlXHJcbiAgKSB7XHJcbiAgICBzdXBlcihlbGVtZW50UmVmLCBzZXJ2aWNlKTtcclxuICB9XHJcbn1cclxuIl19