import { __decorate } from "tslib";
import { Component, Input, ChangeDetectionStrategy, HostBinding, } from '@angular/core';
import { startWith, map } from 'rxjs/operators';
/**
 * This component renders form errors.
 */
var FormErrorsComponent = /** @class */ (function () {
    function FormErrorsComponent() {
    }
    Object.defineProperty(FormErrorsComponent.prototype, "control", {
        get: function () {
            return this._control;
        },
        set: function (control) {
            this._control = control;
            this.errors$ = control === null || control === void 0 ? void 0 : control.statusChanges.pipe(startWith({}), map(function () { return control.errors || {}; }), map(function (errors) {
                return Object.entries(errors)
                    .filter(function (error) { return error[1]; })
                    .map(function (error) { return error[0]; });
            }));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormErrorsComponent.prototype, "invalid", {
        get: function () {
            return this.control.invalid;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormErrorsComponent.prototype, "dirty", {
        get: function () {
            return this.control.dirty;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormErrorsComponent.prototype, "touched", {
        get: function () {
            return this.control.touched;
        },
        enumerable: true,
        configurable: true
    });
    __decorate([
        Input()
    ], FormErrorsComponent.prototype, "control", null);
    __decorate([
        HostBinding('class.control-invalid')
    ], FormErrorsComponent.prototype, "invalid", null);
    __decorate([
        HostBinding('class.control-dirty')
    ], FormErrorsComponent.prototype, "dirty", null);
    __decorate([
        HostBinding('class.control-touched')
    ], FormErrorsComponent.prototype, "touched", null);
    FormErrorsComponent = __decorate([
        Component({
            selector: 'cx-form-errors',
            template: "<p *ngFor=\"let errorName of errors$ | async\">\r\n  {{ 'formErrors.' + errorName | cxTranslate }}\r\n</p>\r\n",
            changeDetection: ChangeDetectionStrategy.OnPush
        })
    ], FormErrorsComponent);
    return FormErrorsComponent;
}());
export { FormErrorsComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1lcnJvcnMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHNwYXJ0YWN1cy9zdG9yZWZyb250LyIsInNvdXJjZXMiOlsic2hhcmVkL2NvbXBvbmVudHMvZm9ybS9mb3JtLWVycm9ycy9mb3JtLWVycm9ycy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQ1QsS0FBSyxFQUNMLHVCQUF1QixFQUN2QixXQUFXLEdBQ1osTUFBTSxlQUFlLENBQUM7QUFHdkIsT0FBTyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVoRDs7R0FFRztBQU1IO0lBQUE7SUFnQ0EsQ0FBQztJQTNCQyxzQkFBSSx3Q0FBTzthQWNYO1lBQ0UsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3ZCLENBQUM7YUFoQkQsVUFBWSxPQUFvQjtZQUM5QixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztZQUV4QixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxhQUFhLENBQUMsSUFBSSxDQUN4QyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQ2IsR0FBRyxDQUFDLGNBQU0sT0FBQSxPQUFPLENBQUMsTUFBTSxJQUFJLEVBQUUsRUFBcEIsQ0FBb0IsQ0FBQyxFQUMvQixHQUFHLENBQUMsVUFBQyxNQUFNO2dCQUNULE9BQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7cUJBQ25CLE1BQU0sQ0FBQyxVQUFDLEtBQUssSUFBSyxPQUFBLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBUixDQUFRLENBQUM7cUJBQzNCLEdBQUcsQ0FBQyxVQUFDLEtBQUssSUFBSyxPQUFBLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBUixDQUFRLENBQUM7WUFGM0IsQ0FFMkIsQ0FDNUIsQ0FDRixDQUFDO1FBQ0osQ0FBQzs7O09BQUE7SUFNcUMsc0JBQUksd0NBQU87YUFBWDtZQUNwQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQzlCLENBQUM7OztPQUFBO0lBQ21DLHNCQUFJLHNDQUFLO2FBQVQ7WUFDbEMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQztRQUM1QixDQUFDOzs7T0FBQTtJQUNxQyxzQkFBSSx3Q0FBTzthQUFYO1lBQ3BDLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUM7UUFDOUIsQ0FBQzs7O09BQUE7SUExQkQ7UUFEQyxLQUFLLEVBQUU7c0RBYVA7SUFNcUM7UUFBckMsV0FBVyxDQUFDLHVCQUF1QixDQUFDO3NEQUVwQztJQUNtQztRQUFuQyxXQUFXLENBQUMscUJBQXFCLENBQUM7b0RBRWxDO0lBQ3FDO1FBQXJDLFdBQVcsQ0FBQyx1QkFBdUIsQ0FBQztzREFFcEM7SUEvQlUsbUJBQW1CO1FBTC9CLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxnQkFBZ0I7WUFDMUIsMEhBQTJDO1lBQzNDLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO1NBQ2hELENBQUM7T0FDVyxtQkFBbUIsQ0FnQy9CO0lBQUQsMEJBQUM7Q0FBQSxBQWhDRCxJQWdDQztTQWhDWSxtQkFBbUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIENvbXBvbmVudCxcclxuICBJbnB1dCxcclxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcclxuICBIb3N0QmluZGluZyxcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9ybUNvbnRyb2wgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgc3RhcnRXaXRoLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcblxyXG4vKipcclxuICogVGhpcyBjb21wb25lbnQgcmVuZGVycyBmb3JtIGVycm9ycy5cclxuICovXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnY3gtZm9ybS1lcnJvcnMnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9mb3JtLWVycm9ycy5jb21wb25lbnQuaHRtbCcsXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBGb3JtRXJyb3JzQ29tcG9uZW50IHtcclxuICBfY29udHJvbDogRm9ybUNvbnRyb2w7XHJcbiAgZXJyb3JzJDogT2JzZXJ2YWJsZTxzdHJpbmdbXT47XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IGNvbnRyb2woY29udHJvbDogRm9ybUNvbnRyb2wpIHtcclxuICAgIHRoaXMuX2NvbnRyb2wgPSBjb250cm9sO1xyXG5cclxuICAgIHRoaXMuZXJyb3JzJCA9IGNvbnRyb2w/LnN0YXR1c0NoYW5nZXMucGlwZShcclxuICAgICAgc3RhcnRXaXRoKHt9KSxcclxuICAgICAgbWFwKCgpID0+IGNvbnRyb2wuZXJyb3JzIHx8IHt9KSxcclxuICAgICAgbWFwKChlcnJvcnMpID0+XHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoZXJyb3JzKVxyXG4gICAgICAgICAgLmZpbHRlcigoZXJyb3IpID0+IGVycm9yWzFdKVxyXG4gICAgICAgICAgLm1hcCgoZXJyb3IpID0+IGVycm9yWzBdKVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNvbnRyb2woKTogRm9ybUNvbnRyb2wge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbnRyb2w7XHJcbiAgfVxyXG5cclxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmNvbnRyb2wtaW52YWxpZCcpIGdldCBpbnZhbGlkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY29udHJvbC5pbnZhbGlkO1xyXG4gIH1cclxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmNvbnRyb2wtZGlydHknKSBnZXQgZGlydHkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb250cm9sLmRpcnR5O1xyXG4gIH1cclxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmNvbnRyb2wtdG91Y2hlZCcpIGdldCB0b3VjaGVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY29udHJvbC50b3VjaGVkO1xyXG4gIH1cclxufVxyXG4iXX0=