import { InjectionToken } from '@angular/core';
import { combineReducers, } from '@ngrx/store';
import { AuthActions } from '../../../auth/store/actions/index';
import { loaderReducer } from '../../../state/utils/loader/loader.reducer';
import { REGIONS, USER_ADDRESSES, USER_CONSENTS, USER_ORDERS, USER_PAYMENT_METHODS, CUSTOMER_COUPONS, NOTIFICATION_PREFERENCES, PRODUCT_INTERESTS, USER_RETURN_REQUESTS, USER_ORDER_DETAILS, USER_RETURN_REQUEST_DETAILS, } from '../user-state';
import * as fromBillingCountriesReducer from './billing-countries.reducer';
import * as fromConsignmentTrackingReducer from './consignment-tracking.reducer';
import * as fromDeliveryCountries from './delivery-countries.reducer';
import * as fromNotificationPreferenceReducer from './notification-preference.reducer';
import * as fromOrderDetailsReducer from './order-details.reducer';
import * as fromPaymentReducer from './payment-methods.reducer';
import * as fromRegionsReducer from './regions.reducer';
import * as fromResetPasswordReducer from './reset-password.reducer';
import * as fromTitlesReducer from './titles.reducer';
import * as fromAddressesReducer from './user-addresses.reducer';
import * as fromUserConsentsReducer from './user-consents.reducer';
import * as fromUserDetailsReducer from './user-details.reducer';
import * as fromUserOrdersReducer from './user-orders.reducer';
import * as fromCustomerCouponReducer from './customer-coupon.reducer';
import * as fromInterestsReducer from './product-interests.reducer';
import * as fromOrderReturnRequestReducer from './order-return-request.reducer';
export function getReducers() {
    return {
        account: combineReducers({
            details: fromUserDetailsReducer.reducer,
        }),
        addresses: loaderReducer(USER_ADDRESSES, fromAddressesReducer.reducer),
        billingCountries: fromBillingCountriesReducer.reducer,
        consents: loaderReducer(USER_CONSENTS, fromUserConsentsReducer.reducer),
        payments: loaderReducer(USER_PAYMENT_METHODS, fromPaymentReducer.reducer),
        orders: loaderReducer(USER_ORDERS, fromUserOrdersReducer.reducer),
        order: loaderReducer(USER_ORDER_DETAILS, fromOrderDetailsReducer.reducer),
        orderReturn: loaderReducer(USER_RETURN_REQUEST_DETAILS),
        orderReturnList: loaderReducer(USER_RETURN_REQUESTS, fromOrderReturnRequestReducer.reducer),
        countries: fromDeliveryCountries.reducer,
        titles: fromTitlesReducer.reducer,
        regions: loaderReducer(REGIONS, fromRegionsReducer.reducer),
        resetPassword: fromResetPasswordReducer.reducer,
        consignmentTracking: fromConsignmentTrackingReducer.reducer,
        customerCoupons: loaderReducer(CUSTOMER_COUPONS, fromCustomerCouponReducer.reducer),
        notificationPreferences: loaderReducer(NOTIFICATION_PREFERENCES, fromNotificationPreferenceReducer.reducer),
        productInterests: loaderReducer(PRODUCT_INTERESTS, fromInterestsReducer.reducer),
    };
}
export const reducerToken = new InjectionToken('UserReducers');
export const reducerProvider = {
    provide: reducerToken,
    useFactory: getReducers,
};
export function clearUserState(reducer) {
    return function (state, action) {
        if (action.type === AuthActions.LOGOUT) {
            state = undefined;
        }
        return reducer(state, action);
    };
}
export const metaReducers = [clearUserState];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3BhcnRhY3VzL2NvcmUvIiwic291cmNlcyI6WyJzcmMvdXNlci9zdG9yZS9yZWR1Y2Vycy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBQ3pELE9BQU8sRUFHTCxlQUFlLEdBRWhCLE1BQU0sYUFBYSxDQUFDO0FBQ3JCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQWFoRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sNENBQTRDLENBQUM7QUFDM0UsT0FBTyxFQUNMLE9BQU8sRUFHUCxjQUFjLEVBQ2QsYUFBYSxFQUNiLFdBQVcsRUFDWCxvQkFBb0IsRUFDcEIsZ0JBQWdCLEVBQ2hCLHdCQUF3QixFQUN4QixpQkFBaUIsRUFDakIsb0JBQW9CLEVBQ3BCLGtCQUFrQixFQUNsQiwyQkFBMkIsR0FDNUIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxLQUFLLDJCQUEyQixNQUFNLDZCQUE2QixDQUFDO0FBQzNFLE9BQU8sS0FBSyw4QkFBOEIsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNqRixPQUFPLEtBQUsscUJBQXFCLE1BQU0sOEJBQThCLENBQUM7QUFDdEUsT0FBTyxLQUFLLGlDQUFpQyxNQUFNLG1DQUFtQyxDQUFDO0FBQ3ZGLE9BQU8sS0FBSyx1QkFBdUIsTUFBTSx5QkFBeUIsQ0FBQztBQUNuRSxPQUFPLEtBQUssa0JBQWtCLE1BQU0sMkJBQTJCLENBQUM7QUFDaEUsT0FBTyxLQUFLLGtCQUFrQixNQUFNLG1CQUFtQixDQUFDO0FBQ3hELE9BQU8sS0FBSyx3QkFBd0IsTUFBTSwwQkFBMEIsQ0FBQztBQUNyRSxPQUFPLEtBQUssaUJBQWlCLE1BQU0sa0JBQWtCLENBQUM7QUFDdEQsT0FBTyxLQUFLLG9CQUFvQixNQUFNLDBCQUEwQixDQUFDO0FBQ2pFLE9BQU8sS0FBSyx1QkFBdUIsTUFBTSx5QkFBeUIsQ0FBQztBQUNuRSxPQUFPLEtBQUssc0JBQXNCLE1BQU0sd0JBQXdCLENBQUM7QUFDakUsT0FBTyxLQUFLLHFCQUFxQixNQUFNLHVCQUF1QixDQUFDO0FBQy9ELE9BQU8sS0FBSyx5QkFBeUIsTUFBTSwyQkFBMkIsQ0FBQztBQUN2RSxPQUFPLEtBQUssb0JBQW9CLE1BQU0sNkJBQTZCLENBQUM7QUFDcEUsT0FBTyxLQUFLLDZCQUE2QixNQUFNLGdDQUFnQyxDQUFDO0FBRWhGLE1BQU0sVUFBVSxXQUFXO0lBQ3pCLE9BQU87UUFDTCxPQUFPLEVBQUUsZUFBZSxDQUFDO1lBQ3ZCLE9BQU8sRUFBRSxzQkFBc0IsQ0FBQyxPQUFPO1NBQ3hDLENBQUM7UUFDRixTQUFTLEVBQUUsYUFBYSxDQUN0QixjQUFjLEVBQ2Qsb0JBQW9CLENBQUMsT0FBTyxDQUM3QjtRQUNELGdCQUFnQixFQUFFLDJCQUEyQixDQUFDLE9BQU87UUFDckQsUUFBUSxFQUFFLGFBQWEsQ0FDckIsYUFBYSxFQUNiLHVCQUF1QixDQUFDLE9BQU8sQ0FDaEM7UUFDRCxRQUFRLEVBQUUsYUFBYSxDQUNyQixvQkFBb0IsRUFDcEIsa0JBQWtCLENBQUMsT0FBTyxDQUMzQjtRQUNELE1BQU0sRUFBRSxhQUFhLENBQ25CLFdBQVcsRUFDWCxxQkFBcUIsQ0FBQyxPQUFPLENBQzlCO1FBQ0QsS0FBSyxFQUFFLGFBQWEsQ0FDbEIsa0JBQWtCLEVBQ2xCLHVCQUF1QixDQUFDLE9BQU8sQ0FDaEM7UUFDRCxXQUFXLEVBQUUsYUFBYSxDQUFnQiwyQkFBMkIsQ0FBQztRQUN0RSxlQUFlLEVBQUUsYUFBYSxDQUM1QixvQkFBb0IsRUFDcEIsNkJBQTZCLENBQUMsT0FBTyxDQUN0QztRQUNELFNBQVMsRUFBRSxxQkFBcUIsQ0FBQyxPQUFPO1FBQ3hDLE1BQU0sRUFBRSxpQkFBaUIsQ0FBQyxPQUFPO1FBQ2pDLE9BQU8sRUFBRSxhQUFhLENBQWUsT0FBTyxFQUFFLGtCQUFrQixDQUFDLE9BQU8sQ0FBQztRQUN6RSxhQUFhLEVBQUUsd0JBQXdCLENBQUMsT0FBTztRQUMvQyxtQkFBbUIsRUFBRSw4QkFBOEIsQ0FBQyxPQUFPO1FBQzNELGVBQWUsRUFBRSxhQUFhLENBQzVCLGdCQUFnQixFQUNoQix5QkFBeUIsQ0FBQyxPQUFPLENBQ2xDO1FBQ0QsdUJBQXVCLEVBQUUsYUFBYSxDQUNwQyx3QkFBd0IsRUFDeEIsaUNBQWlDLENBQUMsT0FBTyxDQUMxQztRQUNELGdCQUFnQixFQUFFLGFBQWEsQ0FDN0IsaUJBQWlCLEVBQ2pCLG9CQUFvQixDQUFDLE9BQU8sQ0FDN0I7S0FDRixDQUFDO0FBQ0osQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FFcEIsSUFBSSxjQUFjLENBQThCLGNBQWMsQ0FBQyxDQUFDO0FBRXJFLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBYTtJQUN2QyxPQUFPLEVBQUUsWUFBWTtJQUNyQixVQUFVLEVBQUUsV0FBVztDQUN4QixDQUFDO0FBRUYsTUFBTSxVQUFVLGNBQWMsQ0FDNUIsT0FBMkI7SUFFM0IsT0FBTyxVQUFVLEtBQUssRUFBRSxNQUFNO1FBQzVCLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxXQUFXLENBQUMsTUFBTSxFQUFFO1lBQ3RDLEtBQUssR0FBRyxTQUFTLENBQUM7U0FDbkI7UUFFRCxPQUFPLE9BQU8sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDaEMsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBdUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGlvblRva2VuLCBQcm92aWRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQge1xyXG4gIEFjdGlvblJlZHVjZXIsXHJcbiAgQWN0aW9uUmVkdWNlck1hcCxcclxuICBjb21iaW5lUmVkdWNlcnMsXHJcbiAgTWV0YVJlZHVjZXIsXHJcbn0gZnJvbSAnQG5ncngvc3RvcmUnO1xyXG5pbXBvcnQgeyBBdXRoQWN0aW9ucyB9IGZyb20gJy4uLy4uLy4uL2F1dGgvc3RvcmUvYWN0aW9ucy9pbmRleCc7XHJcbmltcG9ydCB7IEFkZHJlc3MgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9hZGRyZXNzLm1vZGVsJztcclxuaW1wb3J0IHsgUGF5bWVudERldGFpbHMgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9jYXJ0Lm1vZGVsJztcclxuaW1wb3J0IHsgQ29uc2VudFRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvY29uc2VudC5tb2RlbCc7XHJcbmltcG9ydCB7IE5vdGlmaWNhdGlvblByZWZlcmVuY2UgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9ub3RpZmljYXRpb24tcHJlZmVyZW5jZS5tb2RlbCc7XHJcbmltcG9ydCB7IEN1c3RvbWVyQ291cG9uU2VhcmNoUmVzdWx0IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvY3VzdG9tZXItY291cG9uLm1vZGVsJztcclxuaW1wb3J0IHsgUHJvZHVjdEludGVyZXN0U2VhcmNoUmVzdWx0IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvcHJvZHVjdC1pbnRlcmVzdC5tb2RlbCc7XHJcbmltcG9ydCB7XHJcbiAgT3JkZXJIaXN0b3J5TGlzdCxcclxuICBSZXR1cm5SZXF1ZXN0TGlzdCxcclxuICBSZXR1cm5SZXF1ZXN0LFxyXG4gIE9yZGVyLFxyXG59IGZyb20gJy4uLy4uLy4uL21vZGVsL29yZGVyLm1vZGVsJztcclxuaW1wb3J0IHsgbG9hZGVyUmVkdWNlciB9IGZyb20gJy4uLy4uLy4uL3N0YXRlL3V0aWxzL2xvYWRlci9sb2FkZXIucmVkdWNlcic7XHJcbmltcG9ydCB7XHJcbiAgUkVHSU9OUyxcclxuICBSZWdpb25zU3RhdGUsXHJcbiAgVXNlclN0YXRlLFxyXG4gIFVTRVJfQUREUkVTU0VTLFxyXG4gIFVTRVJfQ09OU0VOVFMsXHJcbiAgVVNFUl9PUkRFUlMsXHJcbiAgVVNFUl9QQVlNRU5UX01FVEhPRFMsXHJcbiAgQ1VTVE9NRVJfQ09VUE9OUyxcclxuICBOT1RJRklDQVRJT05fUFJFRkVSRU5DRVMsXHJcbiAgUFJPRFVDVF9JTlRFUkVTVFMsXHJcbiAgVVNFUl9SRVRVUk5fUkVRVUVTVFMsXHJcbiAgVVNFUl9PUkRFUl9ERVRBSUxTLFxyXG4gIFVTRVJfUkVUVVJOX1JFUVVFU1RfREVUQUlMUyxcclxufSBmcm9tICcuLi91c2VyLXN0YXRlJztcclxuaW1wb3J0ICogYXMgZnJvbUJpbGxpbmdDb3VudHJpZXNSZWR1Y2VyIGZyb20gJy4vYmlsbGluZy1jb3VudHJpZXMucmVkdWNlcic7XHJcbmltcG9ydCAqIGFzIGZyb21Db25zaWdubWVudFRyYWNraW5nUmVkdWNlciBmcm9tICcuL2NvbnNpZ25tZW50LXRyYWNraW5nLnJlZHVjZXInO1xyXG5pbXBvcnQgKiBhcyBmcm9tRGVsaXZlcnlDb3VudHJpZXMgZnJvbSAnLi9kZWxpdmVyeS1jb3VudHJpZXMucmVkdWNlcic7XHJcbmltcG9ydCAqIGFzIGZyb21Ob3RpZmljYXRpb25QcmVmZXJlbmNlUmVkdWNlciBmcm9tICcuL25vdGlmaWNhdGlvbi1wcmVmZXJlbmNlLnJlZHVjZXInO1xyXG5pbXBvcnQgKiBhcyBmcm9tT3JkZXJEZXRhaWxzUmVkdWNlciBmcm9tICcuL29yZGVyLWRldGFpbHMucmVkdWNlcic7XHJcbmltcG9ydCAqIGFzIGZyb21QYXltZW50UmVkdWNlciBmcm9tICcuL3BheW1lbnQtbWV0aG9kcy5yZWR1Y2VyJztcclxuaW1wb3J0ICogYXMgZnJvbVJlZ2lvbnNSZWR1Y2VyIGZyb20gJy4vcmVnaW9ucy5yZWR1Y2VyJztcclxuaW1wb3J0ICogYXMgZnJvbVJlc2V0UGFzc3dvcmRSZWR1Y2VyIGZyb20gJy4vcmVzZXQtcGFzc3dvcmQucmVkdWNlcic7XHJcbmltcG9ydCAqIGFzIGZyb21UaXRsZXNSZWR1Y2VyIGZyb20gJy4vdGl0bGVzLnJlZHVjZXInO1xyXG5pbXBvcnQgKiBhcyBmcm9tQWRkcmVzc2VzUmVkdWNlciBmcm9tICcuL3VzZXItYWRkcmVzc2VzLnJlZHVjZXInO1xyXG5pbXBvcnQgKiBhcyBmcm9tVXNlckNvbnNlbnRzUmVkdWNlciBmcm9tICcuL3VzZXItY29uc2VudHMucmVkdWNlcic7XHJcbmltcG9ydCAqIGFzIGZyb21Vc2VyRGV0YWlsc1JlZHVjZXIgZnJvbSAnLi91c2VyLWRldGFpbHMucmVkdWNlcic7XHJcbmltcG9ydCAqIGFzIGZyb21Vc2VyT3JkZXJzUmVkdWNlciBmcm9tICcuL3VzZXItb3JkZXJzLnJlZHVjZXInO1xyXG5pbXBvcnQgKiBhcyBmcm9tQ3VzdG9tZXJDb3Vwb25SZWR1Y2VyIGZyb20gJy4vY3VzdG9tZXItY291cG9uLnJlZHVjZXInO1xyXG5pbXBvcnQgKiBhcyBmcm9tSW50ZXJlc3RzUmVkdWNlciBmcm9tICcuL3Byb2R1Y3QtaW50ZXJlc3RzLnJlZHVjZXInO1xyXG5pbXBvcnQgKiBhcyBmcm9tT3JkZXJSZXR1cm5SZXF1ZXN0UmVkdWNlciBmcm9tICcuL29yZGVyLXJldHVybi1yZXF1ZXN0LnJlZHVjZXInO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZHVjZXJzKCk6IEFjdGlvblJlZHVjZXJNYXA8VXNlclN0YXRlPiB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGFjY291bnQ6IGNvbWJpbmVSZWR1Y2Vycyh7XHJcbiAgICAgIGRldGFpbHM6IGZyb21Vc2VyRGV0YWlsc1JlZHVjZXIucmVkdWNlcixcclxuICAgIH0pLFxyXG4gICAgYWRkcmVzc2VzOiBsb2FkZXJSZWR1Y2VyPEFkZHJlc3NbXT4oXHJcbiAgICAgIFVTRVJfQUREUkVTU0VTLFxyXG4gICAgICBmcm9tQWRkcmVzc2VzUmVkdWNlci5yZWR1Y2VyXHJcbiAgICApLFxyXG4gICAgYmlsbGluZ0NvdW50cmllczogZnJvbUJpbGxpbmdDb3VudHJpZXNSZWR1Y2VyLnJlZHVjZXIsXHJcbiAgICBjb25zZW50czogbG9hZGVyUmVkdWNlcjxDb25zZW50VGVtcGxhdGVbXT4oXHJcbiAgICAgIFVTRVJfQ09OU0VOVFMsXHJcbiAgICAgIGZyb21Vc2VyQ29uc2VudHNSZWR1Y2VyLnJlZHVjZXJcclxuICAgICksXHJcbiAgICBwYXltZW50czogbG9hZGVyUmVkdWNlcjxQYXltZW50RGV0YWlsc1tdPihcclxuICAgICAgVVNFUl9QQVlNRU5UX01FVEhPRFMsXHJcbiAgICAgIGZyb21QYXltZW50UmVkdWNlci5yZWR1Y2VyXHJcbiAgICApLFxyXG4gICAgb3JkZXJzOiBsb2FkZXJSZWR1Y2VyPE9yZGVySGlzdG9yeUxpc3Q+KFxyXG4gICAgICBVU0VSX09SREVSUyxcclxuICAgICAgZnJvbVVzZXJPcmRlcnNSZWR1Y2VyLnJlZHVjZXJcclxuICAgICksXHJcbiAgICBvcmRlcjogbG9hZGVyUmVkdWNlcjxPcmRlcj4oXHJcbiAgICAgIFVTRVJfT1JERVJfREVUQUlMUyxcclxuICAgICAgZnJvbU9yZGVyRGV0YWlsc1JlZHVjZXIucmVkdWNlclxyXG4gICAgKSxcclxuICAgIG9yZGVyUmV0dXJuOiBsb2FkZXJSZWR1Y2VyPFJldHVyblJlcXVlc3Q+KFVTRVJfUkVUVVJOX1JFUVVFU1RfREVUQUlMUyksXHJcbiAgICBvcmRlclJldHVybkxpc3Q6IGxvYWRlclJlZHVjZXI8UmV0dXJuUmVxdWVzdExpc3Q+KFxyXG4gICAgICBVU0VSX1JFVFVSTl9SRVFVRVNUUyxcclxuICAgICAgZnJvbU9yZGVyUmV0dXJuUmVxdWVzdFJlZHVjZXIucmVkdWNlclxyXG4gICAgKSxcclxuICAgIGNvdW50cmllczogZnJvbURlbGl2ZXJ5Q291bnRyaWVzLnJlZHVjZXIsXHJcbiAgICB0aXRsZXM6IGZyb21UaXRsZXNSZWR1Y2VyLnJlZHVjZXIsXHJcbiAgICByZWdpb25zOiBsb2FkZXJSZWR1Y2VyPFJlZ2lvbnNTdGF0ZT4oUkVHSU9OUywgZnJvbVJlZ2lvbnNSZWR1Y2VyLnJlZHVjZXIpLFxyXG4gICAgcmVzZXRQYXNzd29yZDogZnJvbVJlc2V0UGFzc3dvcmRSZWR1Y2VyLnJlZHVjZXIsXHJcbiAgICBjb25zaWdubWVudFRyYWNraW5nOiBmcm9tQ29uc2lnbm1lbnRUcmFja2luZ1JlZHVjZXIucmVkdWNlcixcclxuICAgIGN1c3RvbWVyQ291cG9uczogbG9hZGVyUmVkdWNlcjxDdXN0b21lckNvdXBvblNlYXJjaFJlc3VsdD4oXHJcbiAgICAgIENVU1RPTUVSX0NPVVBPTlMsXHJcbiAgICAgIGZyb21DdXN0b21lckNvdXBvblJlZHVjZXIucmVkdWNlclxyXG4gICAgKSxcclxuICAgIG5vdGlmaWNhdGlvblByZWZlcmVuY2VzOiBsb2FkZXJSZWR1Y2VyPE5vdGlmaWNhdGlvblByZWZlcmVuY2VbXT4oXHJcbiAgICAgIE5PVElGSUNBVElPTl9QUkVGRVJFTkNFUyxcclxuICAgICAgZnJvbU5vdGlmaWNhdGlvblByZWZlcmVuY2VSZWR1Y2VyLnJlZHVjZXJcclxuICAgICksXHJcbiAgICBwcm9kdWN0SW50ZXJlc3RzOiBsb2FkZXJSZWR1Y2VyPFByb2R1Y3RJbnRlcmVzdFNlYXJjaFJlc3VsdD4oXHJcbiAgICAgIFBST0RVQ1RfSU5URVJFU1RTLFxyXG4gICAgICBmcm9tSW50ZXJlc3RzUmVkdWNlci5yZWR1Y2VyXHJcbiAgICApLFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCByZWR1Y2VyVG9rZW46IEluamVjdGlvblRva2VuPEFjdGlvblJlZHVjZXJNYXA8XHJcbiAgVXNlclN0YXRlXHJcbj4+ID0gbmV3IEluamVjdGlvblRva2VuPEFjdGlvblJlZHVjZXJNYXA8VXNlclN0YXRlPj4oJ1VzZXJSZWR1Y2VycycpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlZHVjZXJQcm92aWRlcjogUHJvdmlkZXIgPSB7XHJcbiAgcHJvdmlkZTogcmVkdWNlclRva2VuLFxyXG4gIHVzZUZhY3Rvcnk6IGdldFJlZHVjZXJzLFxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyVXNlclN0YXRlKFxyXG4gIHJlZHVjZXI6IEFjdGlvblJlZHVjZXI8YW55PlxyXG4pOiBBY3Rpb25SZWR1Y2VyPGFueT4ge1xyXG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xyXG4gICAgaWYgKGFjdGlvbi50eXBlID09PSBBdXRoQWN0aW9ucy5MT0dPVVQpIHtcclxuICAgICAgc3RhdGUgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlZHVjZXIoc3RhdGUsIGFjdGlvbik7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IG1ldGFSZWR1Y2VyczogTWV0YVJlZHVjZXI8YW55PltdID0gW2NsZWFyVXNlclN0YXRlXTtcclxuIl19