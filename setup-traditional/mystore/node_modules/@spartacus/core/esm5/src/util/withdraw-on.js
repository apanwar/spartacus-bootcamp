import { startWith, switchMapTo } from 'rxjs/operators';
/**
 *
 * Withdraw from the source observable when notifier emits a value
 *
 * Withdraw will result in resubscribing to the source observable
 * Operator is useful to kill ongoing emission transformation on notifier emission
 *
 * @param notifier
 */
export function withdrawOn(notifier) {
    return function (source) {
        return notifier.pipe(startWith(undefined), switchMapTo(source));
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2l0aGRyYXctb24uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3BhcnRhY3VzL2NvcmUvIiwic291cmNlcyI6WyJzcmMvdXRpbC93aXRoZHJhdy1vbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRXhEOzs7Ozs7OztHQVFHO0FBQ0gsTUFBTSxVQUFVLFVBQVUsQ0FDeEIsUUFBeUI7SUFFekIsT0FBTyxVQUFDLE1BQXFCO1FBQzNCLE9BQUEsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEVBQUUsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQXhELENBQXdELENBQUM7QUFDN0QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2VydmFibGUsIE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgc3RhcnRXaXRoLCBzd2l0Y2hNYXBUbyB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBXaXRoZHJhdyBmcm9tIHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZSB3aGVuIG5vdGlmaWVyIGVtaXRzIGEgdmFsdWVcclxuICpcclxuICogV2l0aGRyYXcgd2lsbCByZXN1bHQgaW4gcmVzdWJzY3JpYmluZyB0byB0aGUgc291cmNlIG9ic2VydmFibGVcclxuICogT3BlcmF0b3IgaXMgdXNlZnVsIHRvIGtpbGwgb25nb2luZyBlbWlzc2lvbiB0cmFuc2Zvcm1hdGlvbiBvbiBub3RpZmllciBlbWlzc2lvblxyXG4gKlxyXG4gKiBAcGFyYW0gbm90aWZpZXJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB3aXRoZHJhd09uPFQ+KFxyXG4gIG5vdGlmaWVyOiBPYnNlcnZhYmxlPGFueT5cclxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUPiB7XHJcbiAgcmV0dXJuIChzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+XHJcbiAgICBub3RpZmllci5waXBlKHN0YXJ0V2l0aCh1bmRlZmluZWQpLCBzd2l0Y2hNYXBUbyhzb3VyY2UpKTtcclxufVxyXG4iXX0=