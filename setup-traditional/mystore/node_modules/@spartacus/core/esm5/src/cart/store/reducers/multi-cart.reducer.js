import { CartActions } from '../actions/index';
export var activeCartInitialState = '';
export var wishListInitialState = '';
export function activeCartReducer(state, action) {
    if (state === void 0) { state = activeCartInitialState; }
    var _a, _b, _c;
    switch (action.type) {
        case CartActions.LOAD_CART_SUCCESS:
        case CartActions.CREATE_CART_SUCCESS:
        // point to `temp-${uuid}` cart when we are creating/merging cart
        case CartActions.CREATE_CART:
            if ((_b = (_a = action === null || action === void 0 ? void 0 : action.payload) === null || _a === void 0 ? void 0 : _a.extraData) === null || _b === void 0 ? void 0 : _b.active) {
                return action.meta.entityId;
            }
            else {
                return state;
            }
        case CartActions.SET_ACTIVE_CART_ID:
            return action.payload;
        case CartActions.REMOVE_CART:
        case CartActions.DELETE_CART_SUCCESS:
            if (((_c = action.payload) === null || _c === void 0 ? void 0 : _c.cartId) === state) {
                return activeCartInitialState;
            }
            return state;
        case CartActions.CLEAR_CART_STATE:
            return activeCartInitialState;
    }
    return state;
}
export var cartEntitiesInitialState = undefined;
export function cartEntitiesReducer(state, action) {
    if (state === void 0) { state = cartEntitiesInitialState; }
    switch (action.type) {
        case CartActions.LOAD_CART_SUCCESS:
        case CartActions.CREATE_CART_SUCCESS:
        case CartActions.CREATE_WISH_LIST_SUCCESS:
        case CartActions.LOAD_WISH_LIST_SUCCESS:
        case CartActions.SET_TEMP_CART:
            return action.payload.cart;
    }
    return state;
}
export function wishListReducer(state, action) {
    if (state === void 0) { state = wishListInitialState; }
    switch (action.type) {
        case CartActions.CREATE_WISH_LIST_SUCCESS:
        case CartActions.LOAD_WISH_LIST_SUCCESS:
            return action.meta.entityId;
        case CartActions.CLEAR_CART_STATE:
            return wishListInitialState;
    }
    return state;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXVsdGktY2FydC5yZWR1Y2VyLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHNwYXJ0YWN1cy9jb3JlLyIsInNvdXJjZXMiOlsic3JjL2NhcnQvc3RvcmUvcmVkdWNlcnMvbXVsdGktY2FydC5yZWR1Y2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUUvQyxNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBRyxFQUFFLENBQUM7QUFDekMsTUFBTSxDQUFDLElBQU0sb0JBQW9CLEdBQUcsRUFBRSxDQUFDO0FBRXZDLE1BQU0sVUFBVSxpQkFBaUIsQ0FDL0IsS0FBOEIsRUFDOUIsTUFBNkQ7SUFEN0Qsc0JBQUEsRUFBQSw4QkFBOEI7O0lBRzlCLFFBQVEsTUFBTSxDQUFDLElBQUksRUFBRTtRQUNuQixLQUFLLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQztRQUNuQyxLQUFLLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQztRQUNyQyxpRUFBaUU7UUFDakUsS0FBSyxXQUFXLENBQUMsV0FBVztZQUMxQixnQkFBSSxNQUFNLGFBQU4sTUFBTSx1QkFBTixNQUFNLENBQUUsT0FBTywwQ0FBRSxTQUFTLDBDQUFFLE1BQU0sRUFBRTtnQkFDdEMsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQWtCLENBQUM7YUFDdkM7aUJBQU07Z0JBQ0wsT0FBTyxLQUFLLENBQUM7YUFDZDtRQUNILEtBQUssV0FBVyxDQUFDLGtCQUFrQjtZQUNqQyxPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUM7UUFDeEIsS0FBSyxXQUFXLENBQUMsV0FBVyxDQUFDO1FBQzdCLEtBQUssV0FBVyxDQUFDLG1CQUFtQjtZQUNsQyxJQUFJLE9BQUEsTUFBTSxDQUFDLE9BQU8sMENBQUUsTUFBTSxNQUFLLEtBQUssRUFBRTtnQkFDcEMsT0FBTyxzQkFBc0IsQ0FBQzthQUMvQjtZQUNELE9BQU8sS0FBSyxDQUFDO1FBQ2YsS0FBSyxXQUFXLENBQUMsZ0JBQWdCO1lBQy9CLE9BQU8sc0JBQXNCLENBQUM7S0FDakM7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFRCxNQUFNLENBQUMsSUFBTSx3QkFBd0IsR0FBRyxTQUFTLENBQUM7QUFFbEQsTUFBTSxVQUFVLG1CQUFtQixDQUNqQyxLQUFnQyxFQUNoQyxNQUFvQjtJQURwQixzQkFBQSxFQUFBLGdDQUFnQztJQUdoQyxRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUU7UUFDbkIsS0FBSyxXQUFXLENBQUMsaUJBQWlCLENBQUM7UUFDbkMsS0FBSyxXQUFXLENBQUMsbUJBQW1CLENBQUM7UUFDckMsS0FBSyxXQUFXLENBQUMsd0JBQXdCLENBQUM7UUFDMUMsS0FBSyxXQUFXLENBQUMsc0JBQXNCLENBQUM7UUFDeEMsS0FBSyxXQUFXLENBQUMsYUFBYTtZQUM1QixPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO0tBQzlCO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQsTUFBTSxVQUFVLGVBQWUsQ0FDN0IsS0FBNEIsRUFDNUIsTUFBZ0U7SUFEaEUsc0JBQUEsRUFBQSw0QkFBNEI7SUFHNUIsUUFBUSxNQUFNLENBQUMsSUFBSSxFQUFFO1FBQ25CLEtBQUssV0FBVyxDQUFDLHdCQUF3QixDQUFDO1FBQzFDLEtBQUssV0FBVyxDQUFDLHNCQUFzQjtZQUNyQyxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBa0IsQ0FBQztRQUN4QyxLQUFLLFdBQVcsQ0FBQyxnQkFBZ0I7WUFDL0IsT0FBTyxvQkFBb0IsQ0FBQztLQUMvQjtJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENhcnQgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9jYXJ0Lm1vZGVsJztcclxuaW1wb3J0IHsgTG9hZGVyQWN0aW9uIH0gZnJvbSAnLi4vLi4vLi4vc3RhdGUvdXRpbHMvbG9hZGVyL2xvYWRlci5hY3Rpb24nO1xyXG5pbXBvcnQgeyBDYXJ0QWN0aW9ucyB9IGZyb20gJy4uL2FjdGlvbnMvaW5kZXgnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFjdGl2ZUNhcnRJbml0aWFsU3RhdGUgPSAnJztcclxuZXhwb3J0IGNvbnN0IHdpc2hMaXN0SW5pdGlhbFN0YXRlID0gJyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWN0aXZlQ2FydFJlZHVjZXIoXHJcbiAgc3RhdGUgPSBhY3RpdmVDYXJ0SW5pdGlhbFN0YXRlLFxyXG4gIGFjdGlvbjogQ2FydEFjdGlvbnMuQ2FydEFjdGlvbiB8IENhcnRBY3Rpb25zLk11bHRpQ2FydEFjdGlvbnNcclxuKTogc3RyaW5nIHtcclxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcbiAgICBjYXNlIENhcnRBY3Rpb25zLkxPQURfQ0FSVF9TVUNDRVNTOlxyXG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5DUkVBVEVfQ0FSVF9TVUNDRVNTOlxyXG4gICAgLy8gcG9pbnQgdG8gYHRlbXAtJHt1dWlkfWAgY2FydCB3aGVuIHdlIGFyZSBjcmVhdGluZy9tZXJnaW5nIGNhcnRcclxuICAgIGNhc2UgQ2FydEFjdGlvbnMuQ1JFQVRFX0NBUlQ6XHJcbiAgICAgIGlmIChhY3Rpb24/LnBheWxvYWQ/LmV4dHJhRGF0YT8uYWN0aXZlKSB7XHJcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5tZXRhLmVudGl0eUlkIGFzIHN0cmluZztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgIH1cclxuICAgIGNhc2UgQ2FydEFjdGlvbnMuU0VUX0FDVElWRV9DQVJUX0lEOlxyXG4gICAgICByZXR1cm4gYWN0aW9uLnBheWxvYWQ7XHJcbiAgICBjYXNlIENhcnRBY3Rpb25zLlJFTU9WRV9DQVJUOlxyXG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5ERUxFVEVfQ0FSVF9TVUNDRVNTOlxyXG4gICAgICBpZiAoYWN0aW9uLnBheWxvYWQ/LmNhcnRJZCA9PT0gc3RhdGUpIHtcclxuICAgICAgICByZXR1cm4gYWN0aXZlQ2FydEluaXRpYWxTdGF0ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICBjYXNlIENhcnRBY3Rpb25zLkNMRUFSX0NBUlRfU1RBVEU6XHJcbiAgICAgIHJldHVybiBhY3RpdmVDYXJ0SW5pdGlhbFN0YXRlO1xyXG4gIH1cclxuICByZXR1cm4gc3RhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjYXJ0RW50aXRpZXNJbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2FydEVudGl0aWVzUmVkdWNlcihcclxuICBzdGF0ZSA9IGNhcnRFbnRpdGllc0luaXRpYWxTdGF0ZSxcclxuICBhY3Rpb246IExvYWRlckFjdGlvblxyXG4pOiBDYXJ0IHtcclxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcbiAgICBjYXNlIENhcnRBY3Rpb25zLkxPQURfQ0FSVF9TVUNDRVNTOlxyXG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5DUkVBVEVfQ0FSVF9TVUNDRVNTOlxyXG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5DUkVBVEVfV0lTSF9MSVNUX1NVQ0NFU1M6XHJcbiAgICBjYXNlIENhcnRBY3Rpb25zLkxPQURfV0lTSF9MSVNUX1NVQ0NFU1M6XHJcbiAgICBjYXNlIENhcnRBY3Rpb25zLlNFVF9URU1QX0NBUlQ6XHJcbiAgICAgIHJldHVybiBhY3Rpb24ucGF5bG9hZC5jYXJ0O1xyXG4gIH1cclxuICByZXR1cm4gc3RhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB3aXNoTGlzdFJlZHVjZXIoXHJcbiAgc3RhdGUgPSB3aXNoTGlzdEluaXRpYWxTdGF0ZSxcclxuICBhY3Rpb246IENhcnRBY3Rpb25zLldpc2hMaXN0QWN0aW9ucyB8IENhcnRBY3Rpb25zLkNsZWFyQ2FydFN0YXRlXHJcbik6IHN0cmluZyB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5DUkVBVEVfV0lTSF9MSVNUX1NVQ0NFU1M6XHJcbiAgICBjYXNlIENhcnRBY3Rpb25zLkxPQURfV0lTSF9MSVNUX1NVQ0NFU1M6XHJcbiAgICAgIHJldHVybiBhY3Rpb24ubWV0YS5lbnRpdHlJZCBhcyBzdHJpbmc7XHJcbiAgICBjYXNlIENhcnRBY3Rpb25zLkNMRUFSX0NBUlRfU1RBVEU6XHJcbiAgICAgIHJldHVybiB3aXNoTGlzdEluaXRpYWxTdGF0ZTtcclxuICB9XHJcbiAgcmV0dXJuIHN0YXRlO1xyXG59XHJcbiJdfQ==